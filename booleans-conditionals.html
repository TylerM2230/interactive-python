<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Booleans & Conditionals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Custom styles (consistent with previous tutorials) */
      body {
        font-family: "Inter", sans-serif;
      }
      pre {
        background-color: #f3f4f6; /* gray-100 */
        border: 1px solid #e5e7eb; /* gray-200 */
        border-radius: 0.375rem; /* rounded-md */
        padding: 1rem; /* p-4 */
        overflow-x: auto;
        font-family: monospace;
        font-size: 0.875rem; /* text-sm */
        margin-top: 0.5rem; /* mt-2 */
        margin-bottom: 1rem; /* mb-4 */
      }
      code {
        font-family: monospace;
      }
      .interactive-section {
        background-color: #ffffff; /* white */
        padding: 1.5rem; /* p-6 */
        border-radius: 0.5rem; /* rounded-lg */
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06); /* shadow-md */
        margin-bottom: 1.5rem; /* mb-6 */
      }
      .btn {
        background-color: #3b82f6; /* blue-500 */
        color: white;
        padding: 0.5rem 1rem; /* py-2 px-4 */
        border-radius: 0.375rem; /* rounded-md */
        font-weight: 500; /* font-medium */
        cursor: pointer;
        transition: background-color 0.2s ease;
        border: none;
        margin-right: 0.5rem; /* mr-2 */
        margin-top: 0.5rem; /* Add some top margin for buttons */
      }
      .btn:hover {
        background-color: #2563eb; /* blue-600 */
      }
      .btn-green {
        background-color: #22c55e; /* green-500 */
      }
      .btn-green:hover {
        background-color: #16a34a; /* green-600 */
      }
      .input-field,
      .select-field {
        border: 1px solid #d1d5db; /* gray-300 */
        padding: 0.5rem; /* p-2 */
        border-radius: 0.375rem; /* rounded-md */
        margin-right: 0.5rem; /* mr-2 */
        margin-top: 0.25rem; /* mt-1 */
        margin-bottom: 0.5rem; /* mb-2 */
      }
      .message-box {
        margin-top: 1rem; /* mt-4 */
        padding: 0.75rem; /* p-3 */
        border-radius: 0.375rem; /* rounded-md */
        font-size: 0.875rem; /* text-sm */
      }
      .message-box-success {
        background-color: #dcfce7; /* green-100 */
        color: #166534; /* green-800 */
        border: 1px solid #86efac; /* green-300 */
      }
      .message-box-error {
        background-color: #fee2e2; /* red-100 */
        color: #991b1b; /* red-800 */
        border: 1px solid #fecaca; /* red-300 */
      }
      .message-box-info {
        background-color: #e0f2fe; /* sky-100 */
        color: #075985; /* sky-800 */
        border: 1px solid #bae6fd; /* sky-300 */
      }
      .output-display {
        background-color: #f9fafb; /* gray-50 */
        border: 1px dashed #d1d5db; /* gray-300 */
        padding: 1rem; /* p-4 */
        border-radius: 0.375rem; /* rounded-md */
        min-height: 50px;
        font-family: monospace;
        white-space: pre-wrap; /* Keep formatting */
        margin-top: 0.5rem; /* mt-2 */
      }
      /* Styling for conditional code highlight */
      .code-line {
        padding: 0.1rem 0.5rem;
        border-radius: 0.25rem;
        transition: background-color 0.5s ease;
      }
      .code-line.highlight {
        background-color: #fef9c3; /* yellow-100 */
        font-weight: bold;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800 p-4 md:p-8">
    <header class="text-center mb-8">
      <h1 class="text-3xl md:text-4xl font-bold text-blue-600">
        Understanding Booleans & Conditionals
      </h1>
      <p class="text-lg text-gray-600 mt-2">
        An Interactive Guide (using Python examples)
      </p>
    </header>

    <main class="max-w-4xl mx-auto">
      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">
          1. What are Booleans?
        </h2>
        <p class="mb-4">
          A boolean is a data type that can only have one of two possible
          values: <code>True</code> or <code>False</code>. Think of them as
          answers to yes/no questions. Booleans are fundamental in programming
          for making decisions and controlling the flow of execution.
        </p>
        <pre><code class="language-python">is_active = True
has_permission = False

print(is_active)       # Output: True
print(type(is_active)) # Output: <class 'bool'></code></pre>
        <p class="mt-2">Booleans often result from comparisons:</p>
        <pre><code class="language-python">age = 20
is_adult = age >= 18  # The result of the comparison (True) is stored

print(is_adult)        # Output: True</code></pre>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">
          2. Comparison & Logical Operators
        </h2>
        <p class="mb-2">
          We use operators to create boolean values or combine them:
        </p>
        <h3 class="text-lg font-medium text-gray-600 mb-1">
          Comparison Operators:
        </h3>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li><code>==</code> : Equal to</li>
          <li><code>!=</code> : Not equal to</li>
          <li><code>&gt;</code> : Greater than</li>
          <li><code>&lt;</code> : Less than</li>
          <li><code>&gt;=</code> : Greater than or equal to</li>
          <li><code>&lt;=</code> : Less than or equal to</li>
        </ul>
        <h3 class="text-lg font-medium text-gray-600 mb-1">
          Logical Operators:
        </h3>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li>
            <code>and</code> : Returns <code>True</code> if BOTH sides are true.
          </li>
          <li>
            <code>or</code> : Returns <code>True</code> if AT LEAST ONE side is
            true.
          </li>
          <li>
            <code>not</code> : Reverses the boolean value (<code>True</code>
            becomes <code>False</code>, <code>False</code> becomes
            <code>True</code>).
          </li>
        </ul>
        <pre><code class="language-python">x = 10
y = 5

print(x > y)        # True (Comparison)
print(x == 10)      # True (Comparison)
print(x != y)       # True (Comparison)

has_key = True
is_admin = False

print(has_key and is_admin) # False (Logical AND)
print(has_key or is_admin)  # True (Logical OR)
print(not is_admin)         # True (Logical NOT)</code></pre>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">
          3. Evaluate Boolean Expressions
        </h2>
        <p class="mb-4">
          Select boolean values and a logical operator to see the result.
        </p>
        <div class="flex flex-wrap items-center mb-4 space-x-2">
          <select id="boolVal1" class="select-field">
            <option value="True">True</option>
            <option value="False">False</option>
          </select>
          <select id="logicalOp" class="select-field">
            <option value="and">and</option>
            <option value="or">or</option>
          </select>
          <select id="boolVal2" class="select-field">
            <option value="True">True</option>
            <option value="False">False</option>
          </select>
          <span>OR use <code>not</code>:</span>
          <select id="notVal" class="select-field">
            <option value="None" selected>--</option>
            <option value="True">not True</option>
            <option value="False">not False</option>
          </select>
        </div>
        <button id="evaluateBoolButton" class="btn btn-green">Evaluate</button>
        <h3 class="text-lg font-medium mt-4 mb-2">Result:</h3>
        <div id="boolResultDisplay" class="output-display">
          <span class="text-gray-500 italic"
            >Select values/operators and click 'Evaluate'.</span
          >
        </div>
        <div
          id="boolEvalMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">
          4. What are Conditionals? (If/Elif/Else)
        </h2>
        <p class="mb-4">
          Conditional statements allow your program to make decisions and
          execute different blocks of code based on whether a condition (a
          boolean expression) is <code>True</code> or <code>False</code>. The
          primary structure in Python is <code>if</code>,
          <code>elif</code> (else if), and <code>else</code>.
        </p>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li>
            <code>if</code>: Executes the block below it ONLY if its condition
            is <code>True</code>.
          </li>
          <li>
            <code>elif</code>: (Optional) Checked ONLY if the preceding
            <code>if</code> (and any previous <code>elif</code>) conditions were
            <code>False</code>. Executes its block if its condition is
            <code>True</code>. You can have multiple
            <code>elif</code> statements.
          </li>
          <li>
            <code>else</code>: (Optional) Executes its block ONLY if ALL
            preceding <code>if</code> and <code>elif</code> conditions were
            <code>False</code>.
          </li>
        </ul>
        <pre><code class="language-python">temperature = 25

if temperature > 30:
  print("It's hot outside!")
elif temperature > 20: # Checked only if temperature is NOT > 30
  print("It's warm outside.")
elif temperature > 10: # Checked only if temp is NOT > 30 AND NOT > 20
  print("It's cool outside.")
else: # Executes if none of the above were True (temp <= 10)
  print("It's cold outside!")

# In this case, the output will be: "It's warm outside."</code></pre>
        <p class="mt-2 text-sm text-gray-600">
          Indentation (the spaces before <code>print</code>) is crucial in
          Python. It defines which lines belong to the <code>if</code>,
          <code>elif</code>, or <code>else</code> block.
        </p>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">
          5. See Conditionals in Action
        </h2>
        <p class="mb-4">
          Enter a numerical grade (0-100) and see which part of the conditional
          logic runs.
        </p>
        <div class="mb-4 flex items-center flex-wrap">
          <label for="gradeInput" class="mr-2 font-medium">Enter Grade:</label>
          <input
            type="number"
            id="gradeInput"
            class="input-field"
            placeholder="e.g., 75"
            min="0"
            max="100"
          />
          <button id="checkGradeButton" class="btn btn-green">
            Check Grade
          </button>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <h3 class="text-lg font-medium mb-2">Conditional Code:</h3>
            <pre id="conditionalCodeDisplay"><code class="language-python">
<span class="code-line" data-line="1">grade = ? # Your input</span>

<span class="code-line" data-line="2">if grade >= 90:</span>
<span class="code-line" data-line="3">  result = "Grade: A"</span>
<span class="code-line" data-line="4">elif grade >= 80:</span>
<span class="code-line" data-line="5">  result = "Grade: B"</span>
<span class="code-line" data-line="6">elif grade >= 70:</span>
<span class="code-line" data-line="7">  result = "Grade: C"</span>
<span class="code-line" data-line="8">elif grade >= 60:</span>
<span class="code-line" data-line="9">  result = "Grade: D"</span>
<span class="code-line" data-line="10">else:</span>
<span class="code-line" data-line="11"> result = "Grade: F"</span>

<span class="code-line" data-line="12">print(result)</span></code></pre>
          </div>
          <div>
            <h3 class="text-lg font-medium mb-2">Execution Result:</h3>
            <div id="conditionalResultDisplay" class="output-display">
              <span class="text-gray-500 italic"
                >Enter a grade and click 'Check Grade'.</span
              >
            </div>
          </div>
        </div>
        <div
          id="conditionalMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">6. Quick Quiz</h2>
        <p class="mb-4">Test your understanding!</p>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q1: What is the result of <code>True and False</code>?
          </p>
          <label class="block"
            ><input type="radio" name="q1_bool" value="a" class="mr-1" />
            <code>True</code></label
          >
          <label class="block"
            ><input type="radio" name="q1_bool" value="b" class="mr-1" />
            <code>False</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q2: What is the result of <code>not False</code>?
          </p>
          <label class="block"
            ><input type="radio" name="q2_bool" value="a" class="mr-1" />
            <code>True</code></label
          >
          <label class="block"
            ><input type="radio" name="q2_bool" value="b" class="mr-1" />
            <code>False</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q3: Which comparison operator checks for equality?
          </p>
          <label class="block"
            ><input type="radio" name="q3_bool" value="a" class="mr-1" />
            <code>=</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_bool" value="b" class="mr-1" />
            <code>==</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_bool" value="c" class="mr-1" />
            <code>!=</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q4: In an <code>if/elif/else</code> structure, when does the
            <code>else</code> block run?
          </p>
          <label class="block"
            ><input type="radio" name="q4_bool" value="a" class="mr-1" />
            Always</label
          >
          <label class="block"
            ><input type="radio" name="q4_bool" value="b" class="mr-1" /> Only
            if the <code>if</code> condition is true</label
          >
          <label class="block"
            ><input type="radio" name="q4_bool" value="c" class="mr-1" /> Only
            if all preceding <code>if</code> and <code>elif</code> conditions
            are false</label
          >
        </div>
        <button id="checkQuizButtonBool" class="btn">Check Answers</button>
        <div
          id="quizResultBool"
          class="message-box mt-4"
          style="display: none"
        ></div>
      </section>
    </main>

    <footer class="text-center mt-12 text-gray-500 text-sm">
      <p>Happy Learning!</p>
    </footer>

    <script>
      // --- DOM Elements ---
      const boolVal1 = document.getElementById("boolVal1");
      const logicalOp = document.getElementById("logicalOp");
      const boolVal2 = document.getElementById("boolVal2");
      const notVal = document.getElementById("notVal");
      const evaluateBoolButton = document.getElementById("evaluateBoolButton");
      const boolResultDisplay = document.getElementById("boolResultDisplay");
      const boolEvalMessage = document.getElementById("boolEvalMessage");

      const gradeInput = document.getElementById("gradeInput");
      const checkGradeButton = document.getElementById("checkGradeButton");
      const conditionalCodeDisplay = document.getElementById(
        "conditionalCodeDisplay"
      );
      const conditionalResultDisplay = document.getElementById(
        "conditionalResultDisplay"
      );
      const conditionalMessage = document.getElementById("conditionalMessage");

      const checkQuizButtonBool = document.getElementById(
        "checkQuizButtonBool"
      );
      const quizResultBool = document.getElementById("quizResultBool");

      // --- Utility Functions ---
      function showMessage(element, message, type = "info") {
        element.textContent = message;
        element.className = `message-box message-box-${type}`; // Reset classes and add new ones
        element.style.display = "block";
        setTimeout(() => {
          element.style.display = "none";
        }, 3000);
      }

      // Parse string 'True'/'False' to actual boolean
      function parseBool(str) {
        return str === "True";
      }

      // --- Interactive Boolean Evaluation Logic ---
      function handleEvaluateBoolean() {
        const val1Str = boolVal1.value;
        const op = logicalOp.value;
        const val2Str = boolVal2.value;
        const notValStr = notVal.value;

        let result;
        let expression;

        if (notValStr !== "None") {
          // Handle 'not' operation
          const valToNegate = parseBool(notValStr);
          result = !valToNegate;
          expression = `not ${notValStr}`;
          // Optionally reset the other dropdowns or indicate 'not' takes precedence
          boolVal1.disabled = true;
          logicalOp.disabled = true;
          boolVal2.disabled = true;
          showMessage(
            boolEvalMessage,
            `'not' operation selected, ignoring 'and'/'or'.`,
            "info"
          );
        } else {
          // Handle 'and'/'or' operation
          boolVal1.disabled = false;
          logicalOp.disabled = false;
          boolVal2.disabled = false;
          const val1 = parseBool(val1Str);
          const val2 = parseBool(val2Str);
          expression = `${val1Str} ${op} ${val2Str}`;

          if (op === "and") {
            result = val1 && val2;
          } else {
            // op === 'or'
            result = val1 || val2;
          }
          showMessage(boolEvalMessage, `Evaluated ${op} operation.`, "success");
        }

        // Display result (capitalize boolean like Python)
        const resultStr =
          result.toString().charAt(0).toUpperCase() +
          result.toString().slice(1);
        boolResultDisplay.textContent = `${expression}  =>  ${resultStr}`;

        // Reset 'not' dropdown if 'and'/'or' was used, or vice versa for clarity
        if (notValStr === "None") {
          notVal.value = "None"; // Ensure 'not' is reset if and/or used
        } else {
          // Optional: Reset and/or dropdowns if 'not' was used
          // boolVal1.value = 'True';
          // logicalOp.value = 'and';
          // boolVal2.value = 'True';
        }
      }

      // Add event listener to 'not' dropdown to re-enable/disable others
      notVal.addEventListener("change", () => {
        if (notVal.value !== "None") {
          boolVal1.disabled = true;
          logicalOp.disabled = true;
          boolVal2.disabled = true;
        } else {
          boolVal1.disabled = false;
          logicalOp.disabled = false;
          boolVal2.disabled = false;
        }
      });

      // --- Interactive Conditional Logic ---
      function highlightCodeLine(lineNumber) {
        // Remove previous highlights
        conditionalCodeDisplay
          .querySelectorAll(".code-line.highlight")
          .forEach((el) => {
            el.classList.remove("highlight");
          });
        // Highlight the new line
        const lineElement = conditionalCodeDisplay.querySelector(
          `.code-line[data-line="${lineNumber}"]`
        );
        if (lineElement) {
          lineElement.classList.add("highlight");
        }
      }

      function handleCheckGrade() {
        const gradeStr = gradeInput.value;
        if (gradeStr === "") {
          showMessage(conditionalMessage, "Please enter a grade.", "error");
          return;
        }

        const grade = parseInt(gradeStr, 10);

        if (isNaN(grade) || grade < 0 || grade > 100) {
          showMessage(
            conditionalMessage,
            "Please enter a valid grade between 0 and 100.",
            "error"
          );
          return;
        }

        let resultText = "";
        let executedLines = [1]; // Line 1 (assignment) always runs conceptually

        // Clear previous highlights
        conditionalCodeDisplay
          .querySelectorAll(".code-line.highlight")
          .forEach((el) => el.classList.remove("highlight"));

        // Simulate the if/elif/else flow and highlight
        if (grade >= 90) {
          executedLines.push(2, 3); // if condition, if block
          resultText = "Grade: A";
        } else if (grade >= 80) {
          executedLines.push(2, 4, 5); // if condition (false), elif condition, elif block
          resultText = "Grade: B";
        } else if (grade >= 70) {
          executedLines.push(2, 4, 6, 7); // if, elif (false), elif condition, elif block
          resultText = "Grade: C";
        } else if (grade >= 60) {
          executedLines.push(2, 4, 6, 8, 9); // if, elif, elif (false), elif condition, elif block
          resultText = "Grade: D";
        } else {
          executedLines.push(2, 4, 6, 8, 10, 11); // All conditions false, else block
          resultText = "Grade: F";
        }
        executedLines.push(12); // Final print line

        // Apply highlights sequentially with a small delay for visual effect
        let delay = 0;
        executedLines.forEach((lineNum) => {
          setTimeout(() => highlightCodeLine(lineNum), delay);
          delay += 250; // 250ms delay between highlighting lines
        });

        // Update the result display after the animation finishes
        setTimeout(() => {
          conditionalResultDisplay.textContent = `Input grade: ${grade}\n${resultText}`;
          showMessage(
            conditionalMessage,
            "Conditional logic executed.",
            "success"
          );
        }, delay); // Show result after last highlight
      }

      // --- Quiz Logic ---
      function checkBooleansQuiz() {
        const answers = {
          q1_bool: "b", // False
          q2_bool: "a", // True
          q3_bool: "b", // ==
          q4_bool: "c", // All preceding false
        };
        let score = 0;
        let resultsHTML = "<ul>";
        let allAnswered = true;

        for (const q in answers) {
          const selected = document.querySelector(`input[name="${q}"]:checked`);
          if (!selected) {
            allAnswered = false;
            break;
          }
          const isCorrect = selected.value === answers[q];
          if (isCorrect) {
            score++;
            resultsHTML += `<li class="text-green-700">✓ Question ${q.substring(
              1,
              2
            )}: Correct!</li>`;
          } else {
            resultsHTML += `<li class="text-red-700">✗ Question ${q.substring(
              1,
              2
            )}: Incorrect.</li>`;
          }
        }

        if (!allAnswered) {
          quizResultBool.textContent =
            "Please answer all questions before checking.";
          quizResultBool.className = "message-box message-box-error";
          quizResultBool.style.display = "block";
          return;
        }

        resultsHTML += "</ul>";
        resultsHTML =
          `<p class="font-medium mb-2">You scored ${score} out of ${
            Object.keys(answers).length
          }.</p>` + resultsHTML;

        quizResultBool.innerHTML = resultsHTML;
        quizResultBool.className =
          score === Object.keys(answers).length
            ? "message-box message-box-success"
            : "message-box message-box-error";
        quizResultBool.style.display = "block";
      }

      // --- Event Listeners ---
      evaluateBoolButton.addEventListener("click", handleEvaluateBoolean);
      checkGradeButton.addEventListener("click", handleCheckGrade);
      gradeInput.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
          handleCheckGrade();
        }
      });
      checkQuizButtonBool.addEventListener("click", checkBooleansQuiz);

      // --- Initial Setup ---
      // Initial call to set disabled state based on default 'not' value
      if (notVal.value !== "None") {
        boolVal1.disabled = true;
        logicalOp.disabled = true;
        boolVal2.disabled = true;
      }
    </script>
  </body>
</html>
