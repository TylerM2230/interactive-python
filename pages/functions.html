c<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Functions in Python</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/shared-styles.css">
  </head>
  <body class="">
    <div class="console-screen-border">
      <nav class="navbar-8bit">
        <a href="string-operations.html" class="btn">&laquo; String Operations</a>
        <a href="../index.html" class="btn">Main Menu</a>
        <a href="error-handling.html" class="btn">Next: Error Handling &rarr;</a>
      </nav>

      <div class="content-wrapper-8bit">
        <header class="text-center mb-8">
          <h1 class="pixel-header"><a href="../index.html">
            Interactive Guide to Python
          </a></h1>
          <h2 class="pixel-subheader">
            Functions
          </h2>
          <p class="text-sm italic mt-1">
            A way to package up code and give it a name.
          </p>
        </header>

        <section class="game-section">
          <h2 class="section-title-8bit">
            1. What is a Function?
          </h2>
          <p class="mb-4">
            A function is like a recipe in a cookbook - it's a set of instructions that you can follow whenever you need to make a particular dish. Just as you can use the same recipe multiple times to make the same dish, you can call a function multiple times to perform the same task. The recipe (function) has a name, a list of ingredients (parameters), and step-by-step instructions (code). Think of it like a vending machine - you put in the right inputs (arguments), press the button (call the function), and get a consistent output (return value).
          </p>
          <p>Functions help you:</p>
          <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
            <li>
              <strong>Organize Code:</strong> Like organizing a kitchen - each recipe (function) has its own place and purpose. It's similar to how a library organizes books by category, making it easier to find what you need.
            </li>
            <li>
              <strong>Reuse Code:</strong> Like having a recipe card instead of memorizing how to make a dish every time. Think of it like a template or a blueprint that you can use over and over.
            </li>
            <li>
              <strong>Improve Readability:</strong> Like giving clear names to recipes so you know what they make without reading the whole recipe. It's similar to how road signs tell you what's ahead without needing to see the entire road.
            </li>
            <li>
              <strong>Abstract Details:</strong> Like following a recipe without needing to know the chemistry behind why each step works. Think of it like driving a car - you don't need to know how the engine works to use it.
            </li>
          </ul>
        </section>

        <section class="game-section">
          <h2 class="section-title-8bit">
            2. Defining and Calling Functions
          </h2>
          <p class="mb-2">
            Defining a function is like writing down a recipe - you give it a name, list what you need (parameters), and write the steps (code). Calling a function is like following the recipe - you gather the ingredients (arguments) and follow the steps. It's similar to how a TV remote control is programmed (defined) once but can be used (called) many times to change channels.
          </p>
          <p class="mb-2">
            The docstring is like the introduction to a recipe - it tells you what the dish will be and any special notes before you start cooking. Think of it like a product manual that explains what something does before you start using it.
          </p>
          <pre><code class="language-python"># 1. Define the function
def say_hello():
  """This is a docstring. It explains what the function does."""
  print("Hello from the function!")
  print("Nice to meet you.")

# 2. Call the function
print("Calling the function now...")
say_hello() # This executes the code inside the function definition
print("Function call finished.")

# Output:
# Calling the function now...
# Hello from the function!
# Nice to meet you.
# Function call finished.</code></pre>
          <p class="mt-2 text-sm text-gray-300">
            The text within triple quotes (<code>"""..."""</code>) right after the
            <code>def</code> line is called a <strong>docstring</strong>. It's
            good practice to include one to document what your function does.
          </p>
        </section>

        <section class="game-section">
          <h2 class="section-title-8bit">
            3. Parameters and Arguments
          </h2>
          <p class="mb-2">
            Parameters are like the ingredient list in a recipe - they're placeholders for what you'll need. Arguments are like the actual ingredients you use when cooking - they're the real values you provide when you follow the recipe. Think of it like a form where the fields (parameters) are empty until you fill them in (arguments).
          </p>
          <p class="mb-2">
            Just as you can make the same recipe with different ingredients (like using chicken instead of beef), you can call the same function with different arguments to get different results. It's similar to how a calculator can perform the same operation (like addition) with different numbers to get different results.
          </p>
          <pre><code class="language-python"># 'name' and 'greeting' are parameters
def greet_person(name, greeting):
  print(f"{greeting}, {name}!")

# "Alice" and "Good morning" are arguments
greet_person("Alice", "Good morning") # Output: Good morning, Alice!

# "Bob" and "Hi" are arguments for the second call
greet_person("Bob", "Hi")             # Output: Hi, Bob!</code></pre>
        </section>

        <section class="game-section">
          <h2 class="section-title-8bit">
            4. Return Values
          </h2>
          <p class="mb-2">
            Return values are like the finished dish in cooking - they're what you get after following all the steps. When a function returns a value, it's like the recipe telling you "here's your finished dish" instead of just showing you how to make it. Think of it like a vending machine that gives you a product after you put in money and make a selection.
          </p>
          <p class="mb-2">
            If a function doesn't have a return statement, it's like a recipe that shows you how to make something but doesn't tell you what to do with the finished product - you get <code>None</code>, which is like having no specific instructions for what to do next. It's similar to a TV show that entertains you but doesn't give you anything to take away.
          </p>
          <pre><code class="language-python"># This function calculates the sum and returns it
def add_numbers(x, y):
  result = x + y
  return result # Send the calculated result back

# Call the function and store the returned value
sum_result = add_numbers(5, 3)
print(f"The sum is: {sum_result}") # Output: The sum is: 8

# You can use the returned value directly
print(f"Adding 10 and 20 gives: {add_numbers(10, 20)}") # Output: 30

def function_without_explicit_return():
    print("Doing something...")
    # No return statement here

what_is_returned = function_without_explicit_return()
print(f"Value returned: {what_is_returned}") # Output: Value returned: None</code></pre>
        </section>

        <section class="game-section">
          <h2 class="section-title-8bit">
            5. Default Argument Values
          </h2>
          <p class="mb-2">
            Default arguments are like having optional ingredients in a recipe - if you don't specify them, the recipe will use a standard alternative. It's like a recipe that says "use salt to taste" - if you don't specify how much salt, it assumes you'll use a standard amount. Think of it like a car with default settings - if you don't change them, it uses the factory settings.
          </p>
      <section class="game-section">
        <h2 class="section-title-8bit">
          5. Default Argument Values
        </h2>
        <p class="mb-2">
          Default arguments are like having optional ingredients in a recipe - if you don't specify them, the recipe will use a standard alternative. It's like a recipe that says "use salt to taste" - if you don't specify how much salt, it assumes you'll use a standard amount. Think of it like a car with default settings - if you don't change them, it uses the factory settings.
        </p>
        <pre><code class="language-python">def greet_person(name, greeting="Hello"):
  print(f"{greeting}, {name}!")

# "Alice" is the argument for 'name'
greet_person("Alice") # Output: Hello, Alice!

# "Bob" and "Good morning" are arguments for 'name' and 'greeting'
greet_person("Bob", "Good morning") # Output: Good morning, Bob!</code></pre>
      </section>

      <section class="game-section">
        <h2 class="section-title-8bit">
          6. Keyword Arguments
        </h2>
        <p class="mb-2">
          Keyword arguments are like having labeled containers for your ingredients - you can put them in any order because each one is clearly marked. It's like a recipe where you can add the ingredients in any order as long as you label them correctly. Think of it like a form where you can fill in the fields in any order because each one has a clear label.
        </p>
        <pre><code class="language-python">def greet_person(name, greeting):
  print(f"{greeting}, {name}!")

# "Bob" is the argument for 'name'
# "Good morning" is the argument for 'greeting'
greet_person(name="Bob", greeting="Good morning") # Output: Good morning, Bob!</code></pre>
      </section>

      <section class="game-section">
        <h2 class="section-title-8bit">
          7. Variable Number of Arguments (*args and **kwargs)
        </h2>
        <p class="mb-2">
          <code>*args</code> and <code>**kwargs</code> are like having a flexible recipe that can work with whatever ingredients you have on hand. <code>*args</code> is like saying "add any number of vegetables" and <code>**kwargs</code> is like saying "add any number of spices, each with its own name". Think of it like a buffet where you can take any number of items (<code>*args</code>) and any number of condiments, each with its own label (<code>**kwargs</code>).
        </p>
        <pre><code class="language-python">def print_arguments(*args):
  for arg in args:
    print(arg)

print_arguments("Hello", "World", 1, 2, 3) # Output: Hello, World, 1, 2, 3

def print_keyword_arguments(**kwargs):
  for key, value in kwargs.items():
    print(f"{key}: {value}")

print_keyword_arguments(a=1, b=2, c=3) # Output: a: 1, b: 2, c: 3</code></pre>
      </section>

      <section class="game-section interactive-section">
        <h2 class="section-title-8bit">
          Interactive: Define and Call a Simple Function
        </h2>
        <p class="mb-4">
          Let's use a function that calculates the area of a rectangle. Enter
          the width and height (arguments) and see the result returned by the
          function.
        </p>
        <div class="mb-4">
          <h4 class="text-md font-medium mb-1">Function Definition:</h4>
          <pre id="functionCodeDisplay"><code class="language-python">
<span class="code-line" data-line="1">def calculate_area(width, height):</span>
<span class="code-line indent-1" data-line="2">  """Calculates the area of a rectangle."""</span>
<span class="code-line indent-1" data-line="3">  area = width * height</span>
<span class="code-line indent-1 highlight-return" data-line="4">  return area</span>
                </code></pre>
        </div>

        <div class="flex flex-wrap items-center mb-2">
          <label for="widthInput" class="mr-2">Width:</label>
          <input
            type="number"
            id="widthInput"
            class="input-field"
            placeholder="e.g., 10"
            value="10"
          />
          <label for="heightInput" class="ml-4 mr-2">Height:</label>
          <input
            type="number"
            id="heightInput"
            class="input-field"
            placeholder="e.g., 5"
            value="5"
          />
          <button id="callFunctionButton" class="btn btn-green">
            Call calculate_area()
          </button>
        </div>

        <h4 class="text-md font-medium mt-3 mb-1">Execution Flow & Result:</h4>
        <div id="functionCallDisplay" class="output-display">
          <span class="text-gray-500 italic"
            >Enter width/height and click 'Call'.</span
          >
        </div>

        <div
          id="functionCallMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="game-section">
        <h2 class="section-title-8bit">
          8. Variable Scope (Briefly)
        </h2>
        <p class="mb-2">
          Variables defined inside a function (like <code>area</code> in the
          example above) are generally <strong>local</strong> to that function.
          This means they only exist while the function is running and cannot be
          accessed from outside the function.
        </p>
        <pre><code class="language-python">def my_function():
  local_var = "I'm inside the function"
  print(local_var)

my_function() # Output: I'm inside the function

# Trying to access local_var outside the function will cause an error:
# print(local_var) # This would raise a NameError</code></pre>
        <p class="mt-2">
          This helps prevent naming conflicts and keeps functions
          self-contained. Information is typically passed *into* functions via
          arguments and *out of* functions via return values.
        </p>
      </section>

      <section class="game-section interactive-section">
        <h2 class="section-title-8bit">9. Quick Quiz</h2>
        <p class="mb-4">Test your understanding!</p>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q1: What keyword is used to define a function in Python?
          </p>
          <label class="block"
            ><input type="radio" name="q1_func" value="a" class="mr-1" />
            <code>function</code></label
          >
          <label class="block"
            ><input type="radio" name="q1_func" value="b" class="mr-1" />
            <code>def</code></label
          >
          <label class="block"
            ><input type="radio" name="q1_func" value="c" class="mr-1" />
            <code>define</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q2: In <code>def my_func(param1): ...</code>, what is
            <code>param1</code> called?
          </p>
          <label class="block"
            ><input type="radio" name="q2_func" value="a" class="mr-1" />
            Argument</label
          >
          <label class="block"
            ><input type="radio" name="q2_func" value="b" class="mr-1" />
            Variable</label
          >
          <label class="block"
            ><input type="radio" name="q2_func" value="c" class="mr-1" />
            Parameter</label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q3: What does the <code>return</code> statement do?
          </p>
          <label class="block"
            ><input type="radio" name="q3_func" value="a" class="mr-1" /> Prints
            output to the console</label
          >
          <label class="block"
            ><input type="radio" name="q3_func" value="b" class="mr-1" /> Sends
            a value back from the function</label
          >
          <label class="block"
            ><input type="radio" name="q3_func" value="c" class="mr-1" /> Stops
            the entire program</label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q4: If a function doesn't have a <code>return</code> statement, what
            does it return by default?
          </p>
          <label class="block"
            ><input type="radio" name="q4_func" value="a" class="mr-1" />
            <code>0</code></label
          >
          <label class="block"
            ><input type="radio" name="q4_func" value="b" class="mr-1" />
            <code>None</code></label
          >
          <label class="block"
            ><input type="radio" name="q4_func" value="c" class="mr-1" /> An
            empty string <code>""</code></label
          >
        </div>
        <button id="checkQuizButtonFunc" class="btn">Check Answers</button>
        <div
          id="quizResultFunc"
          class="message-box mt-4"
          style="display: none"
        ></div>
      </section>
    </main>

    <footer class="footer-8bit">
      <p class="text-sm mb-2">Ready to handle errors?</p>
      <a href="error-handling.html" class="btn btn-8bit">Next Tutorial: Error Handling &rarr;</a>
    </footer>
  </div>

    <script src="../js/main.js" defer></script>
    <script>
      // showMessage is now in js/main.js

      // --- DOM Elements ---
      const widthInput = document.getElementById("widthInput");
      const heightInput = document.getElementById("heightInput");
      const callFunctionButton = document.getElementById("callFunctionButton");
      const functionCallDisplay = document.getElementById(
        "functionCallDisplay"
      );
      const functionCallMessage = document.getElementById(
        "functionCallMessage"
      );
      const functionCodeLines = document.querySelectorAll(
        "#functionCodeDisplay .code-line"
      );

      const checkQuizButtonFunc = document.getElementById(
        "checkQuizButtonFunc"
      );
      const quizResultFunc = document.getElementById("quizResultFunc");

      // --- Interactive Function Call Logic ---

      // The actual function logic (simulated in JS for interaction)
      function calculate_area(width, height) {
        // Simulate potential errors or constraints if needed
        if (isNaN(width) || isNaN(height) || width < 0 || height < 0) {
          throw new Error("Width and height must be non-negative numbers.");
        }
        const area = width * height;
        return area;
      }

      function highlightCodeLine(lines, className) {
        functionCodeLines.forEach((line) =>
          line.classList.remove(
            "highlight-def",
            "highlight-call",
            "highlight-return"
          )
        ); // Clear all highlights first
        lines.forEach((ln) => {
          const lineElement = document.querySelector(
            `.code-line[data-line="${ln}"]`
          );
          if (lineElement) lineElement.classList.add(className);
        });
      }

      callFunctionButton.addEventListener("click", () => {
        const widthStr = widthInput.value;
        const heightStr = heightInput.value;

        if (widthStr === "" || heightStr === "") {
          showMessage(
            functionCallMessage,
            "Please enter both width and height.",
            "error"
          );
          functionCallDisplay.innerHTML =
            "<span class=\"text-gray-500 italic\">Enter width/height and click 'Call'.</span>";
          return;
        }

        const width = parseFloat(widthStr);
        const height = parseFloat(heightStr);

        // Clear previous display and highlights
        functionCallDisplay.innerHTML = "";
        highlightCodeLine([], ""); // Clear highlights

        // 1. Show the call being made
        functionCallDisplay.innerHTML += `Calling function: <code class="highlight-call">calculate_area(${width}, ${height})</code>\n`;
        highlightCodeLine([1], "highlight-def"); // Highlight function definition line

        // Short delay to simulate execution start
        setTimeout(() => {
          try {
            // 2. Simulate passing arguments and execution
            functionCallDisplay.innerHTML += ` -> Function receives width=${width}, height=${height}\n`;
            highlightCodeLine([3], "highlight-def"); // Highlight calculation line

            // 3. Execute the function logic
            const areaResult = calculate_area(width, height); // Call the JS simulation

            // Short delay before showing return
            setTimeout(() => {
              // 4. Show the return statement being executed
              functionCallDisplay.innerHTML += ` -> Calculating area: ${width} * ${height} = ${areaResult}\n`;
              functionCallDisplay.innerHTML += ` -> Function <code class="highlight-return">return</code>s value: ${areaResult}\n`;
              highlightCodeLine([4], "highlight-return"); // Highlight return line

              // 5. Show the final result received by the caller
              setTimeout(() => {
                functionCallDisplay.innerHTML += `\nResult received: <strong class="text-green-600">${areaResult}</strong>`;
                showMessage(
                  functionCallMessage,
                  "Function executed successfully.",
                  "success"
                );
                highlightCodeLine([], ""); // Clear highlights at the end
              }, 600);
            }, 600);
          } catch (e) {
            // Handle errors from the function logic
            functionCallDisplay.innerHTML += `<span class="text-red-500">\nError during execution: ${e.message}</span>`;
            showMessage(functionCallMessage, `Error: ${e.message}`, "error");
            highlightCodeLine([], ""); // Clear highlights on error
          }
        }, 600); // Delay for step 2
      });

      // --- Quiz Logic ---
      function checkFunctionsQuiz() {
        const answers = {
          q1_func: "b", // def
          q2_func: "c", // Parameter
          q3_func: "b", // Sends a value back
          q4_func: "b", // None
        };
        let score = 0;
        let resultsHTML = "<ul>";
        let allAnswered = true;

        for (const q in answers) {
          const selected = document.querySelector(`input[name="${q}"]:checked`);
          if (!selected) {
            allAnswered = false;
            break;
          }
          const isCorrect = selected.value === answers[q];
          if (isCorrect) {
            score++;
            resultsHTML += `<li class="text-green-700">✓ Question ${q.substring(
              1,
              2
            )}: Correct!</li>`;
          } else {
            resultsHTML += `<li class="text-red-700">✗ Question ${q.substring(
              1,
              2
            )}: Incorrect.</li>`;
          }
        }

        if (!allAnswered) {
          quizResultFunc.textContent =
            "Please answer all questions before checking.";
          quizResultFunc.className = "message-box message-box-error";
          quizResultFunc.style.display = "block";
          return;
        }

        resultsHTML += "</ul>";
        resultsHTML =
          `<p class="font-medium mb-2">You scored ${score} out of ${
            Object.keys(answers).length
          }.</p>` + resultsHTML;

        quizResultFunc.innerHTML = resultsHTML;
        quizResultFunc.className =
          score === Object.keys(answers).length
            ? "message-box message-box-success"
            : "message-box message-box-error";
        quizResultFunc.style.display = "block";
      }

      // --- Event Listeners ---
      checkQuizButtonFunc.addEventListener("click", checkFunctionsQuiz);

      // --- Initial Setup ---
      window.onload = () => {
        // No specific setup needed initially beyond HTML rendering
      };
    </script>
  </body>
</html>
