<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nested Conditionals in Python</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/shared-styles.css">
  </head>
  <body class="">
    <div class="console-screen-border">
      <nav class="navbar-8bit">
        <a href="booleans-conditionals.html" class="btn">&laquo; Booleans & Conditionals</a>
        <a href="../index.html" class="btn">Main Menu</a>
        <a href="loops.html" class="btn">Next: Loops &rarr;</a>
      </nav>

      <div class="content-wrapper-8bit">
        <header class="text-center mb-8">
          <h1 class="pixel-header"><a href="../index.html">
            Interactive Guide to Python
          </a></h1>
          <h2 class="pixel-subheader">
            Nested Conditionals
          </h2>
          <p class="text-sm italic mt-1">
            Building more complex decision-making structures by placing conditionals inside other conditionals.
          </p>
        </header>

        <main>
          <section class="interactive-section mb-8">
            <h2>1. What are Nested Conditionals?</h2>
            <p class="mb-4">
              <strong>Nested conditionals</strong> occur when you place an <code>if</code>, <code>elif</code>, or <code>else</code> statement inside another <code>if</code>, <code>elif</code>, or <code>else</code> block. This allows for more granular control over program flow, enabling you to check for a series of conditions.
            </p>
            <p class="mb-2">
              Think of it like a flowchart with multiple decision points branching off from each other, or like a set of Russian nesting dolls (Matryoshka dolls). To get to an inner doll (an inner conditional), you must first open the outer doll that contains it (the outer conditional must be true).
              The inner conditional is only evaluated if the outer conditional's condition is met.
            </p>
            <pre><code class="language-python"># Example: Adventure Game Choice
age = 20
has_sword = True

if age >= 18:  # Outer condition: Like a bouncer checking ID at a club.
    print("You are old enough to enter the dangerous cave.")
    # This inner block is only reached if age >= 18 is True.
    if has_sword:  # Inner condition: Like a second check for a special pass inside the club.
        print("Armed with your sword, you venture into the darkness!")
    else:
        print("It is too dangerous to enter without a weapon. You turn back.")
else: # Outer else: If the bouncer (age check) turns you away.
    print("You are too young for this perilous journey.")</code></pre>
            <p class="mt-3">
              In the example above, the check for <code>has_sword</code> only happens if the <code>age</code> is 18 or greater.
            </p>
          </section>

          <section class="interactive-section mb-8">
            <h2>2. When to Use Nested Conditionals</h2>
            <ul class="list-disc list-inside ml-4 space-y-2 mb-4">
              <li>When a decision depends on the outcome of a prior decision. It's like a 'Choose Your Own Adventure' book: your first choice (e.g., 'Do you open the creaky door?') leads you to a page with new, specific choices that only make sense based on that first decision.</li>
              <li>To handle scenarios with multiple layers of criteria, where one condition needs to be true before another even becomes relevant.</li>
              <li>When you need to check for specific combinations of conditions that follow a hierarchical order.</li>
            </ul>
            <p class="mb-2">
              However, be cautious: deeply nested conditionals (many levels deep, like a Matryoshka doll with dozens of layers) can become hard to read and understand. It can feel like navigating a complex maze. If your logic gets too deep, it's often a sign you could simplify it, perhaps by using logical operators (<code>and</code>, <code>or</code>) as shown below, or by breaking parts of the logic into separate, smaller decisions using functions.
            </p>
            <pre><code class="language-python"># Alternative to the previous example using 'and'
# This might be simpler for this specific case:
if age >= 18 and has_sword:
    print("You are old enough and armed. You venture into the darkness!")
elif age >= 18 and not has_sword:
    print("You are old enough, but it's too dangerous without a weapon. You turn back.")
else: # age < 18
    print("You are too young for this perilous journey.")</code></pre>
          </section>
          
          <section class="interactive-section mb-8">
            <h2>3. Interactive Example: Ticket Pricing</h2>
            <p class="mb-3">
              Let's simulate a ticket pricing system based on age and whether it's a weekend.
              This system uses nested logic: first, we categorize by a broad age group, and *then*, within some of those groups, we check a secondary condition (like whether it's a weekend) to determine the final price.
            </p>
            <div class="sub-interactive-box p-4">
              <div class="flex flex-wrap items-center mb-3">
                <label for="ticketAgeInput" class="mr-2">Enter Age:</label>
                <input type="number" id="ticketAgeInput" class="input-field mr-4" value="25" min="0">
                <label for="isWeekendCheckbox" class="mr-2">
                  <input type="checkbox" id="isWeekendCheckbox" class="mr-1">Is it a weekend?
                </label>
              </div>
              <button id="calculatePriceButton" class="btn">Calculate Ticket Price</button>
              <div id="ticketPriceOutput" class="output-display mt-3">
                <span class="placeholder-text">Ticket price will be shown here.</span>
              </div>
            </div>
            <h4 class="mt-4 mb-2">Logic Used:</h4>
            <pre><code class="language-python"># Simplified Ticket Pricing Logic:
# age = ... (user input)
# is_weekend = ... (user input)
# price = 0

# if age < 5:              # Children under 5
#     price = 0  # Free
# elif age < 18:           # Children 5-17
#     if is_weekend:
#         price = 10 # Weekend price for child
#     else:
#         price = 7  # Weekday price for child
# elif age >= 18 and age < 65: # Adults 18-64
#     if is_weekend:
#         price = 20 # Weekend price for adult
#     else:
#         price = 15 # Weekday price for adult
# else:                    # Seniors 65+
#     if is_weekend:
#         price = 12 # Weekend price for senior
#     else:
#         price = 9  # Weekday price for senior
# print(f"The ticket price is: ${price}")</code></pre>
          </section>

          <section class="interactive-section mb-8">
            <h2>4. Quick Quiz</h2>
            <p class="mb-4">Test your understanding of nested conditionals!</p>
            <div class="quiz-options mb-3">
              <p class="font-medium mb-1">Q1: In the first example (adventure game), if <code>age = 17</code> and <code>has_sword = True</code>, what is printed?</p>
              <label class="quiz-option-label"><input type="radio" name="q1_nested" value="a"> "Armed with your sword, you venture into the darkness!"</label>
              <label class="quiz-option-label"><input type="radio" name="q1_nested" value="b"> "It is too dangerous to enter without a weapon. You turn back."</label>
              <label class="quiz-option-label"><input type="radio" name="q1_nested" value="c"> "You are too young for this perilous journey."</label>
            </div>

            <div class="quiz-options mb-3">
              <p class="font-medium mb-1">Q2: When is an inner conditional statement evaluated?</p>
              <label class="quiz-option-label"><input type="radio" name="q2_nested" value="a"> Always, regardless of the outer condition.</label>
              <label class="quiz-option-label"><input type="radio" name="q2_nested" value="b"> Only if the outer conditional's condition is <code>True</code> (or the relevant <code>elif</code> path is taken).</label>
              <label class="quiz-option-label"><input type="radio" name="q2_nested" value="c"> Only if the outer conditional's condition is <code>False</code>.</label>
            </div>

            <div class="quiz-options mb-3">
              <p class="font-medium mb-1">Q3: Consider: <code>if x > 10: if y > 5: print("A") else: print("B") else: print("C")</code>. If <code>x = 10</code> and <code>y = 6</code>, what is printed?</p>
              <label class="quiz-option-label"><input type="radio" name="q3_nested" value="a"> "A"</label>
              <label class="quiz-option-label"><input type="radio" name="q3_nested" value="b"> "B"</label>
              <label class="quiz-option-label"><input type="radio" name="q3_nested" value="c"> "C"</label>
            </div>
            <button id="checkQuizButtonNested" class="btn">Check Answers</button>
            <div id="quizResultNested" class="message-box mt-3" style="display: none;"></div>
          </section>
        </main>

        <footer class="footer-8bit">
          <p class="text-sm mb-2">Ready to learn about repetition?</p>
          <a href="loops.html" class="btn btn-8bit">Next Tutorial: Loops (For & While) &rarr;</a>
        </footer>
      </div>
    </div>

    <script>
      // Ticket Pricing Simulator
      const ticketAgeInput = document.getElementById('ticketAgeInput');
      const isWeekendCheckbox = document.getElementById('isWeekendCheckbox');
      const calculatePriceButton = document.getElementById('calculatePriceButton');
      const ticketPriceOutput = document.getElementById('ticketPriceOutput');

      if (calculatePriceButton) {
        calculatePriceButton.addEventListener('click', () => {
          const age = parseInt(ticketAgeInput.value);
          const isWeekend = isWeekendCheckbox.checked;
          let price = 0;
          let priceMessage = '';

          if (isNaN(age) || age < 0) {
            priceMessage = 'Please enter a valid age.';
            ticketPriceOutput.className = 'output-display message-box-error';
          } else {
            if (age < 5) {
              price = 0;
              priceMessage = 'Ticket Price: $0 (Free for under 5s)';
            } else if (age < 18) {
              if (isWeekend) {
                price = 10;
                priceMessage = 'Ticket Price: $10 (Child Weekend)';
              } else {
                price = 7;
                priceMessage = 'Ticket Price: $7 (Child Weekday)';
              }
            } else if (age < 65) {
              if (isWeekend) {
                price = 20;
                priceMessage = 'Ticket Price: $20 (Adult Weekend)';
              } else {
                price = 15;
                priceMessage = 'Ticket Price: $15 (Adult Weekday)';
              }
            } else { // age >= 65
              if (isWeekend) {
                price = 12;
                priceMessage = 'Ticket Price: $12 (Senior Weekend)';
              } else {
                price = 9;
                priceMessage = 'Ticket Price: $9 (Senior Weekday)';
              }
            }
            ticketPriceOutput.className = 'output-display message-box-success'; 
          }
          ticketPriceOutput.innerHTML = priceMessage;
        });
      }

      // Quiz Logic
      const checkQuizButtonNested = document.getElementById('checkQuizButtonNested');
      const quizResultNested = document.getElementById('quizResultNested');

      if (checkQuizButtonNested) {
        checkQuizButtonNested.addEventListener('click', () => {
          const answers = { q1_nested: 'c', q2_nested: 'b', q3_nested: 'c' };
          let score = 0;
          let allAnswered = true;
          let resultHTML = '<h4>Quiz Results:</h4><ul>';

          for (const question in answers) {
            const selected = document.querySelector(`input[name="${question}"]:checked`);
            if (selected) {
              if (selected.value === answers[question]) {
                score++;
                resultHTML += `<li style="color: var(--theme-highlight);">Question ${question.substring(1,2)}: Correct!</li>`;
              } else {
                resultHTML += `<li style="color: var(--theme-accent1);">Question ${question.substring(1,2)}: Incorrect.</li>`;
              }
            } else {
              allAnswered = false;
              break;
            }
          }

          if (!allAnswered) {
            quizResultNested.innerHTML = 'Please answer all questions.';
            quizResultNested.className = 'message-box message-box-info';
          } else {
            resultHTML += `</ul><p>You scored ${score} out of ${Object.keys(answers).length}.</p>`;
            quizResultNested.innerHTML = resultHTML;
            if (score === Object.keys(answers).length) {
              quizResultNested.className = 'message-box message-box-success';
            } else {
              quizResultNested.className = 'message-box message-box-info';
            }
          }
          quizResultNested.style.display = 'block';
        });
      }
    </script>
  </body>
</html>
