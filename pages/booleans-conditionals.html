<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Booleans & Conditionals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/shared-styles.css">
  </head>
  <body class="bg-blue-700 text-gray-300 p-4 md:p-8">
    <header class="text-center mb-8">
      <a href="../index.html" class="text-3xl md:text-4xl font-bold text-yellow-300 hover:text-yellow-200 transition-colors duration-200">
        Interactive Guide to Python
      </a>
      <h1 class="text-2xl md:text-3xl font-semibold text-yellow-400 mt-2">
        Booleans & Conditional Logic in Python
      </h1>
      <p class="text-xs text-cyan-500 mt-1 italic">
        Using True/False values and if/elif/else statements to control program flow based on conditions.
      </p>
    </header>

    <nav
      class="max-w-4xl mx-auto mb-6 p-3 bg-blue-800 rounded-lg shadow-md flex justify-between items-center"
    >
      <a
        href="variables-types.html"
        class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        &larr; Previous: Variables & Data Types
      </a>
      <a
        href="nested-conditionals.html"
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        Next: Nested Conditionals &rarr;
      </a>
    </nav>

    <main class="max-w-4xl mx-auto">
      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          1. What are Booleans?
        </h2>
        <p class="mb-4">
          A boolean is a data type that can only have one of two possible
          values: <code>True</code> or <code>False</code>. Think of them as
          answers to yes/no questions. Booleans are fundamental in programming
          for making decisions and controlling the flow of execution.
        </p>
        <pre><code class="language-python">is_active = True
has_permission = False

print(is_active)       # Output: True
print(type(is_active)) # Output: <class 'bool'></code></pre>
        <p class="mt-2">Booleans often result from comparisons:</p>
        <pre><code class="language-python">age = 20
is_adult = age >= 18  # The result of the comparison (True) is stored

print(is_adult)        # Output: True</code></pre>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          2. Comparison Operators
        </h2>
        <p class="mb-2">
          We use operators to create boolean values or combine them:
        </p>
        <h3 class="text-lg font-medium text-cyan-400 mb-1">
          Comparison Operators:
        </h3>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li><code>==</code> : Equal to</li>
          <li><code>!=</code> : Not equal to</li>
          <li><code>&gt;</code> : Greater than</li>
          <li><code>&lt;</code> : Less than</li>
          <li><code>&gt;=</code> : Greater than or equal to</li>
          <li><code>&lt;=</code> : Less than or equal to</li>
        </ul>
        <h3 class="text-lg font-medium text-cyan-400 mb-1">
          Logical Operators:
        </h3>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li>
            <code>and</code> : Returns <code>True</code> if BOTH sides are true.
          </li>
          <li>
            <code>or</code> : Returns <code>True</code> if AT LEAST ONE side is
            true.
          </li>
          <li>
            <code>not</code> : Reverses the boolean value (<code>True</code>
            becomes <code>False</code>, <code>False</code> becomes
            <code>True</code>).
          </li>
        </ul>
        <pre><code class="language-python">x = 10
y = 5

print(x > y)        # True (Comparison)
print(x == 10)      # True (Comparison)
print(x != y)       # True (Comparison)

has_key = True
is_admin = False

print(has_key and is_admin) # False (Logical AND)
print(has_key or is_admin)  # True (Logical OR)
print(not is_admin)         # True (Logical NOT)</code></pre>
      </section>

      <section class="interactive-section mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          Interactive: Try Comparison Operators
        </h2>
        <p class="mb-4">
          Select values and a comparison operator to see the result.
        </p>
        <div class="flex flex-wrap items-center mb-4 space-x-2">
          <select id="compareVal1" class="select-field">
            <option value="10">10</option>
            <option value="5">5</option>
          </select>
          <select id="compareOp" class="select-field">
            <option value="==">==</option>
            <option value="!=">!=</option>
            <option value=">">></option>
            <option value="<"><</option>
            <option value=">=">="</option>
            <option value="<="><=</option>
          </select>
          <select id="compareVal2" class="select-field">
            <option value="10">10</option>
            <option value="5">5</option>
          </select>
        </div>
        <button id="compareButton" class="btn btn-green">Compare</button>
        <button id="compareClearButton" class="btn">Clear Output</button>
        <h3 class="text-lg font-medium mt-4 mb-2">Result:</h3>
        <div id="compareOutput" class="output-display">
          <span class="text-gray-500 italic"
            >Select values and click 'Compare'.</span
          >
        </div>
        <div id="compareError" class="message-box message-box-error" style="display: none;"></div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          3. Logical Operators (and, or, not)
        </h2>
        <p class="mb-2">
          Logical operators allow you to combine boolean values and create more complex conditions.
        </p>
        <h3 class="text-lg font-medium text-cyan-400 mt-4 mb-1">
          Truth Tables:
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="bg-blue-800 p-3 rounded shadow">
            <h4 class="font-semibold text-yellow-400 mb-1 text-center">AND (<code>and</code>)</h4>
            <pre class="text-xs whitespace-pre-wrap">A     | B     | A and B
------+-------+--------
True  | True  | True
True  | False | False
False | True  | False
False | False | False</pre>
          </div>
          <div class="bg-blue-800 p-3 rounded shadow">
            <h4 class="font-semibold text-yellow-400 mb-1 text-center">OR (<code>or</code>)</h4>
            <pre class="text-xs whitespace-pre-wrap">A    | B     | A or B
-----+-------+--------
True | True  | True
True | False | True
False| True  | True
False| False | False</pre>
          </div>
          <div class="bg-blue-800 p-3 rounded shadow">
            <h4 class="font-semibold text-yellow-400 mb-1 text-center">NOT (<code>not</code>)</h4>
            <pre class="text-xs whitespace-pre-wrap">A     | not A
------+-------
True  | False
False | True</pre>
          </div>
        </div>
      </section>

      <section class="interactive-section mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          Interactive: Try Logical Operators
        </h2>
        <div class="flex flex-wrap items-center mb-2">
          <select id="logicValA" class="select-field">
            <option value="true">True</option>
            <option value="false">False</option>
          </select>
          <select id="logicOp" class="select-field">
            <option value="and">AND</option>
            <option value="or">OR</option>
          </select>
          <select id="logicValB" class="select-field">
            <option value="true">True</option>
            <option value="false">False</option>
          </select>
          <button id="evalLogicButton" class="btn btn-green">Evaluate</button>
        </div>
        <div class="flex items-center mb-4">
          <span class="mr-2 text-gray-300">Not:</span> 
          <select id="logicNotVal" class="select-field">
            <option value="true">True</option>
            <option value="false">False</option>
          </select>
          <button id="evalNotButton" class="btn btn-green">Evaluate NOT</button>
        </div>
        <div id="logicOutput" class="output-display"></div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          4. Conditional Statements: <code>if</code>, <code>elif</code>, <code>else</code>
        </h2>
        <p class="mb-4">
          Conditional statements allow your program to make decisions and
          execute different blocks of code based on whether a condition (a
          boolean expression) is <code>True</code> or <code>False</code>. The
          primary structure in Python is <code>if</code>,
          <code>elif</code> (else if), and <code>else</code>.
        </p>
        <ul class="list-disc list-inside mb-3 space-y-1">
          <li>
            <code>if</code>: Executes the block below it ONLY if its condition
            is <code>True</code>.
          </li>
          <li>
            <code>elif</code>: (Optional) Checked ONLY if the preceding
            <code>if</code> (and any previous <code>elif</code>) conditions were
            <code>False</code>. Executes its block if its condition is
            <code>True</code>. You can have multiple
            <code>elif</code> statements.
          </li>
          <li>
            <code>else</code>: (Optional) Executes its block ONLY if ALL
            preceding <code>if</code> and <code>elif</code> conditions were
            <code>False</code>.
          </li>
        </ul>
        <pre><code class="language-python">temperature = 25

if temperature > 30:
  print("It's hot outside!")
elif temperature > 20: # Checked only if temperature is NOT > 30
  print("It's warm outside.")
elif temperature > 10: # Checked only if temp is NOT > 30 AND NOT > 20
  print("It's cool outside.")
else: # Executes if none of the above were True (temp <= 10)
  print("It's cold outside!")

# In this case, the output will be: "It's warm outside."</code></pre>
        <p class="mt-2 text-sm text-gray-300">
          Indentation (the spaces before <code>print</code>) is crucial in
          Python. It defines which lines belong to the <code>if</code>,
          <code>elif</code>, or <code>else</code> block.
        </p>
      </section>

      <section class="interactive-section mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          Interactive: Test Conditionals
        </h2>
        <p class="mb-4">
          Enter a numerical grade (0-100) and see which part of the conditional
          logic runs.
        </p>
        <div class="mb-4 flex items-center flex-wrap">
          <label for="gradeInput" class="mr-2 font-medium">Enter Grade:</label>
          <input
            type="number"
            id="gradeInput"
            class="input-field"
            placeholder="e.g., 75"
            min="0"
            max="100"
          />
          <button id="checkGradeButton" class="btn btn-green">
            Check Grade
          </button>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <h3 class="text-lg font-medium mb-2">Conditional Code:</h3>
            <pre id="conditionalCodeDisplay"><code class="language-python">
<span class="code-line" data-line="1">grade = ? # Your input</span>

<span class="code-line" data-line="2">if grade >= 90:</span>
<span class="code-line" data-line="3">  result = "Grade: A"</span>
<span class="code-line" data-line="4">elif grade >= 80:</span>
<span class="code-line" data-line="5">  result = "Grade: B"</span>
<span class="code-line" data-line="6">elif grade >= 70:</span>
<span class="code-line" data-line="7">  result = "Grade: C"</span>
<span class="code-line" data-line="8">elif grade >= 60:</span>
<span class="code-line" data-line="9">  result = "Grade: D"</span>
<span class="code-line" data-line="10">else:</span>
<span class="code-line" data-line="11"> result = "Grade: F"</span>

<span class="code-line" data-line="12">print(result)</span></code></pre>
          </div>
          <div>
            <h3 class="text-lg font-medium mb-2">Execution Result:</h3>
            <div id="conditionalResultDisplay" class="output-display">
              <span class="text-gray-500 italic"
                >Enter a grade and click 'Check Grade'.</span
              >
            </div>
          </div>
        </div>
        <div
          id="conditionalMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">6. Quick Quiz</h2>
        <p class="mb-4">Test your understanding!</p>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q1: What is the result of <code>True and False</code>?
          </p>
          <label class="block"
            ><input type="radio" name="q1_bool" value="a" class="mr-1" />
            <code>True</code></label
          >
          <label class="block"
            ><input type="radio" name="q1_bool" value="b" class="mr-1" />
            <code>False</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q2: What is the result of <code>not False</code>?
          </p>
          <label class="block"
            ><input type="radio" name="q2_bool" value="a" class="mr-1" />
            <code>True</code></label
          >
          <label class="block"
            ><input type="radio" name="q2_bool" value="b" class="mr-1" />
            <code>False</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q3: Which comparison operator checks for equality?
          </p>
          <label class="block"
            ><input type="radio" name="q3_bool" value="a" class="mr-1" />
            <code>=</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_bool" value="b" class="mr-1" />
            <code>==</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_bool" value="c" class="mr-1" />
            <code>!=</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q4: In an <code>if/elif/else</code> structure, when does the
            <code>else</code> block run?
          </p>
          <label class="block"
            ><input type="radio" name="q4_bool" value="a" class="mr-1" />
            Always</label
          >
          <label class="block"
            ><input type="radio" name="q4_bool" value="b" class="mr-1" /> Only
            if the <code>if</code> condition is true</label
          >
          <label class="block"
            ><input type="radio" name="q4_bool" value="c" class="mr-1" /> Only
            if all preceding <code>if</code> and <code>elif</code> conditions
            are false</label
          >
        </div>
        <button id="checkQuizButtonBool" class="btn">Check Answers</button>
        <div
          id="quizResultBool"
          class="message-box mt-4"
          style="display: none"
        ></div>
      </section>
    </main>

    <footer class="text-center mt-12 py-6 border-t border-yellow-500">
      <p class="text-sm text-cyan-300">Happy Coding!</p>
      <p class="mt-2">
        <a
          href="../index.html"
          class="text-yellow-400 hover:text-yellow-200 font-medium transition-colors duration-200"
          >Back to Main Menu</a
        >
      </p>
    </footer>

    <script>
      // --- DOM Elements ---
      const compareVal1 = document.getElementById("compareVal1");
      const compareOp = document.getElementById("compareOp");
      const compareVal2 = document.getElementById("compareVal2");
      const compareButton = document.getElementById("compareButton");
      const compareClearButton = document.getElementById("compareClearButton");
      const compareOutput = document.getElementById("compareOutput");
      const compareError = document.getElementById("compareError");

      const gradeInput = document.getElementById("gradeInput");
      const checkGradeButton = document.getElementById("checkGradeButton");
      const conditionalCodeDisplay = document.getElementById(
        "conditionalCodeDisplay"
      );
      const conditionalResultDisplay = document.getElementById(
        "conditionalResultDisplay"
      );
      const conditionalMessage = document.getElementById("conditionalMessage");

      const checkQuizButtonBool = document.getElementById(
        "checkQuizButtonBool"
      );
      const quizResultBool = document.getElementById("quizResultBool");

      // --- Utility Functions ---
      function showMessage(element, message, type = "info") {
        element.textContent = message;
        element.className = `message-box message-box-${type}`; // Reset classes and add new ones
        element.style.display = "block";
        setTimeout(() => {
          element.style.display = "none";
        }, 3000);
      }

      // Parse string 'True'/'False' to actual boolean
      function parseBool(str) {
        return str === "True";
      }

      // --- Interactive Comparison Logic ---
      function handleCompare() {
        const val1Str = compareVal1.value;
        const op = compareOp.value;
        const val2Str = compareVal2.value;

        let result;
        let expression;

        const val1 = parseBool(val1Str);
        const val2 = parseBool(val2Str);
        expression = `${val1Str} ${op} ${val2Str}`;

        if (op === "==") {
          result = val1 === val2;
        } else if (op === "!=") {
          result = val1 !== val2;
        } else if (op === ">") {
          result = val1 > val2;
        } else if (op === "<") {
          result = val1 < val2;
        } else if (op === ">=") {
          result = val1 >= val2;
        } else {
          // op === "<="
          result = val1 <= val2;
        }

        // Display result (capitalize boolean like Python)
        const resultStr =
          result.toString().charAt(0).toUpperCase() +
          result.toString().slice(1);
        compareOutput.textContent = `${expression}  =>  ${resultStr}`;
      }

      // --- Interactive Conditional Logic ---
      function highlightCodeLine(lineNumber) {
        // Remove previous highlights
        conditionalCodeDisplay
          .querySelectorAll(".code-line.highlight")
          .forEach((el) => {
            el.classList.remove("highlight");
          });
        // Highlight the new line
        const lineElement = conditionalCodeDisplay.querySelector(
          `.code-line[data-line="${lineNumber}"]`
        );
        if (lineElement) {
          lineElement.classList.add("highlight");
        }
      }

      function handleCheckGrade() {
        const gradeStr = gradeInput.value;
        if (gradeStr === "") {
          showMessage(conditionalMessage, "Please enter a grade.", "error");
          return;
        }

        const grade = parseInt(gradeStr, 10);

        if (isNaN(grade) || grade < 0 || grade > 100) {
          showMessage(
            conditionalMessage,
            "Please enter a valid grade between 0 and 100.",
            "error"
          );
          return;
        }

        let resultText = "";
        let executedLines = [1]; // Line 1 (assignment) always runs conceptually

        // Clear previous highlights
        conditionalCodeDisplay
          .querySelectorAll(".code-line.highlight")
          .forEach((el) => el.classList.remove("highlight"));

        // Simulate the if/elif/else flow and highlight
        if (grade >= 90) {
          executedLines.push(2, 3); // if condition, if block
          resultText = "Grade: A";
        } else if (grade >= 80) {
          executedLines.push(2, 4, 5); // if condition (false), elif condition, elif block
          resultText = "Grade: B";
        } else if (grade >= 70) {
          executedLines.push(2, 4, 6, 7); // if, elif (false), elif condition, elif block
          resultText = "Grade: C";
        } else if (grade >= 60) {
          executedLines.push(2, 4, 6, 8, 9); // if, elif, elif (false), elif condition, elif block
          resultText = "Grade: D";
        } else {
          executedLines.push(2, 4, 6, 8, 10, 11); // All conditions false, else block
          resultText = "Grade: F";
        }
        executedLines.push(12); // Final print line

        // Apply highlights sequentially with a small delay for visual effect
        let delay = 0;
        executedLines.forEach((lineNum) => {
          setTimeout(() => highlightCodeLine(lineNum), delay);
          delay += 250; // 250ms delay between highlighting lines
        });

        // Update the result display after the animation finishes
        setTimeout(() => {
          conditionalResultDisplay.textContent = `Input grade: ${grade}\n${resultText}`;
          showMessage(
            conditionalMessage,
            "Conditional logic executed.",
            "success"
          );
        }, delay); // Show result after last highlight
      }

      // --- Quiz Logic ---
      function checkBooleansQuiz() {
        const answers = {
          q1_bool: "b", // False
          q2_bool: "a", // True
          q3_bool: "b", // ==
          q4_bool: "c", // All preceding false
        };
        let score = 0;
        let resultsHTML = "<ul>";
        let allAnswered = true;

        for (const q in answers) {
          const selected = document.querySelector(`input[name="${q}"]:checked`);
          if (!selected) {
            allAnswered = false;
            break;
          }
          const isCorrect = selected.value === answers[q];
          if (isCorrect) {
            score++;
            resultsHTML += `<li class="text-green-700">✓ Question ${q.substring(
              1,
              2
            )}: Correct!</li>`;
          } else {
            resultsHTML += `<li class="text-red-700">✗ Question ${q.substring(
              1,
              2
            )}: Incorrect.</li>`;
          }
        }

        if (!allAnswered) {
          quizResultBool.textContent =
            "Please answer all questions before checking.";
          quizResultBool.className = "message-box message-box-error";
          quizResultBool.style.display = "block";
          return;
        }

        resultsHTML += "</ul>";
        resultsHTML =
          `<p class="font-medium mb-2">You scored ${score} out of ${
            Object.keys(answers).length
          }.</p>` + resultsHTML;

        quizResultBool.innerHTML = resultsHTML;
        quizResultBool.className =
          score === Object.keys(answers).length
            ? "message-box message-box-success"
            : "message-box message-box-error";
        quizResultBool.style.display = "block";
      }

      // --- Event Listeners ---
      compareButton.addEventListener("click", handleCompare);
      compareClearButton.addEventListener("click", () => {
        compareOutput.textContent = "";
        compareError.textContent = "";
      });
      checkGradeButton.addEventListener("click", handleCheckGrade);
      gradeInput.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
          handleCheckGrade();
        }
      });
      checkQuizButtonBool.addEventListener("click", checkBooleansQuiz);

      // --- Initial Setup ---
      // Initial call to set disabled state based on default 'not' value
      if (notVal.value !== "None") {
        boolVal1.disabled = true;
        logicalOp.disabled = true;
        boolVal2.disabled = true;
      }
    </script>
  </body>
</html>
