<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Variables and Data Types</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/shared-styles.css">
    <style>
      /* Custom styles (consistent with 8bit theme) */
      /* body font-family is now in shared-styles.css */
      pre {
        background-color: #1e3a8a; /* blue-900 */
        border: 1px solid #3b82f6; /* blue-500 */
        color: #d1d5db; /* gray-200 */
        border-radius: 0.375rem; /* rounded-md */
        padding: 1rem; /* p-4 */
        overflow-x: auto;
        font-family: monospace;
        font-size: 0.875rem; /* text-sm */
        margin-top: 0.5rem; /* mt-2 */
        margin-bottom: 1rem; /* mb-4 */
        position: relative;
      }
      code {
        font-family: monospace;
        background-color: rgba(209, 213, 219, 0.3); /* gray-300 with opacity - adjusted for 8bit */
        padding: 0.1rem 0.3rem;
        border-radius: 0.25rem;
      }
      pre code {
        /* Don't style code inside pre differently */
        background-color: transparent;
        padding: 0;
        border-radius: 0;
      }
      .interactive-section {
        background-color: #1e40af; /* blue-800 */
        padding: 1.5rem; /* p-6 */
        border-radius: 0.5rem; /* rounded-lg */
        box-shadow: 0 4px 6px -1px rgba(234, 179, 8, 0.3), 0 2px 4px -1px rgba(234, 179, 8, 0.18); /* shadow-yellow-500/30 */
        margin-bottom: 1.5rem; /* mb-6 */
      }
      .btn {
        background-color: #f59e0b; /* yellow-500 */
        color: #1e3a8a; /* blue-900 */
        padding: 0.5rem 1rem; /* py-2 px-4 */
        border-radius: 0.375rem; /* rounded-md */
        font-weight: 500; /* font-medium */
        cursor: pointer;
        transition: background-color 0.2s ease;
        border: none;
        margin-right: 0.5rem; /* mr-2 */
        margin-top: 0.5rem; /* Add some top margin for buttons */
      }
      .btn:hover:not(:disabled) {
        background-color: #ca8a04; /* yellow-600 */
      }
      .btn:disabled {
        background-color: #9ca3af; /* gray-400 */
        cursor: not-allowed;
      }
      .btn-green {
        background-color: #22c55e; /* green-500 */
        color: #000000; /* black */
      }
      .btn-green:hover:not(:disabled) {
        background-color: #4ade80; /* green-400 */
      }
      .input-field,
      .select-field {
        border: 1px solid #f59e0b; /* yellow-500 */
        background-color: #1e3a8a; /* blue-900 */
        color: #d1d5db; /* gray-200 */
        padding: 0.5rem; /* p-2 */
        border-radius: 0.375rem; /* rounded-md */
        margin-right: 0.5rem; /* mr-2 */
        margin-top: 0.25rem; /* mt-1 */
        margin-bottom: 0.5rem; /* mb-2 */
      }
      .message-box {
        margin-top: 1rem; /* mt-4 */
        padding: 0.75rem; /* p-3 */
        border-radius: 0.375rem; /* rounded-md */
        font-size: 0.875rem; /* text-sm */
      }
      .message-box-success {
        background-color: #15803d; /* green-700 */
        color: #ffffff; /* white */
        border: 1px solid #22c55e; /* green-500 */
      }
      .message-box-error {
        background-color: #b91c1c; /* red-700 */
        color: #ffffff; /* white */
        border: 1px solid #ef4444; /* red-500 */
      }
      .message-box-info {
        background-color: #0e7490; /* cyan-700 */
        color: #ffffff; /* white */
        border: 1px solid #22d3ee; /* cyan-500 */
      }
      .output-display {
        background-color: #1e3a8a; /* blue-900 */
        border: 1px dashed #f59e0b; /* yellow-500 */
        color: #d1d5db; /* gray-200 */
        padding: 1rem; /* p-4 */
        border-radius: 0.375rem; /* rounded-md */
        min-height: 50px;
        font-family: monospace;
        white-space: pre-wrap; /* Keep formatting */
        margin-top: 0.5rem; /* mt-2 */
        max-height: 200px;
        overflow-y: auto;
      }
      .concept-box {
        background-color: #1e40af; /* blue-800 - match interactive section */
        border: 1px solid #3b82f6; /* blue-500 */
        padding: 1rem;
        border-radius: 0.375rem;
        margin-top: 1rem;
      }
    </style>
  </head>
  <body class="bg-blue-700 text-gray-300 p-4 md:p-8">
    <header class="text-center mb-8">
      <a href="../index.html" class="text-3xl md:text-4xl font-bold text-yellow-300 hover:text-yellow-200 transition-colors duration-200">
        Interactive Guide to Python
      </a>
      <h1 class="text-2xl md:text-3xl font-semibold text-yellow-400 mt-2">
        Understanding Variables & Data Types
      </h1>
      <p class="text-xs text-cyan-500 mt-1 italic">
        Storing and managing different kinds of information like numbers, text, and booleans using variables.
      </p>
    </header>

    <nav
      class="max-w-4xl mx-auto mb-6 p-3 bg-blue-800 rounded-lg shadow-md flex justify-between items-center"
    >
      <a
        href="intro-programming.html"
        class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        &larr; Previous: Introduction to Programming & Python
      </a>
      <a
        href="booleans-conditionals.html"
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        Next: Booleans & Conditionals &rarr;
      </a>
    </nav>

    <main class="max-w-4xl mx-auto">
      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          1. What are Variables?
        </h2>
        <p class="mb-4">
          Think of a variable as a labeled container or box where you can store
          information (data). You give the container a name (the variable name),
          and you put something inside it (the value). You can then refer to the
          information using the variable's name. This makes your code easier to
          read and allows you to reuse values without typing them repeatedly.
        </p>
        <p class="mb-2">
          In Python, you create a variable and assign it a value using the
          equals sign <code>=</code> (assignment operator):
        </p>
        <pre><code class="language-python"># Create a variable named 'message' and store the text "Hello, world!" in it
message = "Hello, world!"

# Create a variable named 'count' and store the number 10 in it
count = 10

# You can then use the variable name to access the stored value
print(message)  # Output: Hello, world!
print(count)    # Output: 10

# You can also change the value stored in a variable
count = count + 5
print(count)    # Output: 15</code></pre>
        <p class="mt-2 text-sm text-gray-300">
          Variable names should be descriptive (e.g.,
          <code>user_name</code> instead of <code>x</code>) and follow naming
          rules (usually start with a letter or underscore, contain letters,
          numbers, underscores).
        </p>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          2. Common Data Types in Python
        </h2>
        <p class="mb-4">
          The "type" of data stored in a variable determines what kind of
          information it is and what operations you can perform on it.
          Programming languages have built-in data types. Here are some common
          ones in Python:
        </p>
        <ul class="list-disc list-inside mb-4 space-y-2">
          <li>
            <strong>Integer (<code>int</code>):</strong> Whole numbers, positive
            or negative, without decimals. Example: <code>-5</code>,
            <code>0</code>, <code>42</code>.
          </li>
          <li>
            <strong>Float (<code>float</code>):</strong> Numbers with a decimal
            point. Example: <code>-3.14</code>, <code>0.0</code>,
            <code>99.99</code>.
          </li>
          <li>
            <strong>String (<code>str</code>):</strong> Sequences of characters
            (text), enclosed in quotes (single <code>'</code> or double
            <code>"</code>). Example: <code>"Hello"</code>,
            <code>'Python is fun!'</code>, <code>"123"</code> (this is text, not
            a number).
          </li>
          <li>
            <strong>Boolean (<code>bool</code>):</strong> Represents truth
            values, either <code>True</code> or <code>False</code>. Often used
            in conditions.
          </li>
        </ul>
        <pre><code class="language-python"># Examples of different data types
age = 30               # int
price = 19.95          # float
name = "Alice"         # str
is_student = True      # bool

# Python automatically determines the type when you assign a value
print(type(age))       # Output: <class 'int'>
print(type(price))     # Output: <class 'float'>
print(type(name))      # Output: <class 'str'>
print(type(is_student))# Output: <class 'bool'></code></pre>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          Interactive: Assign and Check Variable Type
        </h2>
        <p class="mb-4">
          Enter a value below. We'll assign it to a variable called
          <code>my_variable</code> and show you its value and inferred data type
          (based on common Python types).
        </p>
        <div class="mb-4 flex items-center flex-wrap">
          <label for="varValueInput" class="mr-2 font-medium">Value:</label>
          <input
            type="text"
            id="varValueInput"
            class="input-field"
            placeholder="e.g., Hello, 42, 3.14, True"
          />
          <button id="assignVarButton" class="btn">
            Assign to my_variable
          </button>
        </div>
        <h3 class="text-lg font-medium mb-2">Variable State:</h3>
        <div id="variableDisplay" class="output-display">
          <span class="text-gray-500 italic"
            >Enter a value and click 'Assign' to see the variable.</span
          >
        </div>
        <div
          id="varAssignMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          4. Check Data Type
        </h2>
        <p class="mb-4">
          Enter any value, and we'll try to determine its likely data type
          (simulating Python's <code>type()</code> function).
        </p>
        <div class="mb-4 flex items-center flex-wrap">
          <label for="typeCheckInput" class="mr-2 font-medium">Value:</label>
          <input
            type="text"
            id="typeCheckInput"
            class="input-field"
            placeholder="e.g., 100, 'test', False, 0.5"
          />
          <button id="checkTypeButton" class="btn btn-green">Check Type</button>
        </div>
        <h3 class="text-lg font-medium mb-2">Detected Type:</h3>
        <div id="typeCheckOutput" class="output-display">
          <span class="text-gray-500 italic"
            >Enter a value and click 'Check Type'.</span
          >
        </div>
        <div
          id="typeCheckMessage"
          class="message-box"
          style="display: none"
        ></div>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">5. Quick Quiz</h2>
        <p class="mb-4">Test your understanding!</p>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q1: What is the primary purpose of a variable?
          </p>
          <label class="block"
            ><input type="radio" name="q1_vars" value="a" class="mr-1" /> To
            perform calculations</label
          >
          <label class="block"
            ><input type="radio" name="q1_vars" value="b" class="mr-1" /> To
            store data with a name</label
          >
          <label class="block"
            ><input type="radio" name="q1_vars" value="c" class="mr-1" /> To
            repeat code</label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q2: Which data type would you use to store the price of an item,
            like $9.99?
          </p>
          <label class="block"
            ><input type="radio" name="q2_vars" value="a" class="mr-1" />
            <code>int</code></label
          >
          <label class="block"
            ><input type="radio" name="q2_vars" value="b" class="mr-1" />
            <code>str</code></label
          >
          <label class="block"
            ><input type="radio" name="q2_vars" value="c" class="mr-1" />
            <code>float</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q3: What is the data type of the value <code>"False"</code> (with
            quotes)?
          </p>
          <label class="block"
            ><input type="radio" name="q3_vars" value="a" class="mr-1" />
            <code>bool</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_vars" value="b" class="mr-1" />
            <code>str</code></label
          >
          <label class="block"
            ><input type="radio" name="q3_vars" value="c" class="mr-1" />
            <code>int</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1">
            Q4: What are the only two possible values for a boolean
            (<code>bool</code>) data type?
          </p>
          <label class="block"
            ><input type="radio" name="q4_vars" value="a" class="mr-1" />
            <code>0</code> and <code>1</code></label
          >
          <label class="block"
            ><input type="radio" name="q4_vars" value="b" class="mr-1" />
            <code>"Yes"</code> and <code>"No"</code></label
          >
          <label class="block"
            ><input type="radio" name="q4_vars" value="c" class="mr-1" />
            <code>True</code> and <code>False</code></label
          >
        </div>
        <button id="checkQuizButtonVars" class="btn">Check Answers</button>
        <div
          id="quizResultVars"
          class="message-box mt-4"
          style="display: none"
        ></div>
      </section>
    </main>

    <footer class="text-center mt-12 py-6 border-t border-yellow-500">
      <p class="text-sm text-cyan-300">
        &copy; 2024 Interactive Guide to Python. Happy Coding!
      </p>
      <p class="mt-2">
        <a
          href="../index.html"
          class="text-yellow-400 hover:text-yellow-200 font-medium transition-colors duration-200"
          >Back to Main Menu</a
        >
      </p>
    </footer>

    <script src="../js/main.js" defer></script>
    <script>
      // --- DOM Elements ---
      const varValueInput = document.getElementById("varValueInput");
      const assignVarButton = document.getElementById("assignVarButton");
      const variableDisplay = document.getElementById("variableDisplay");
      const varAssignMessage = document.getElementById("varAssignMessage");

      const typeCheckInput = document.getElementById("typeCheckInput");
      const checkTypeButton = document.getElementById("checkTypeButton");
      const typeCheckOutput = document.getElementById("typeCheckOutput");
      const typeCheckMessage = document.getElementById("typeCheckMessage");

      const checkQuizButtonVars = document.getElementById(
        "checkQuizButtonVars"
      );
      const quizResultVars = document.getElementById("quizResultVars");

      // --- Utility Functions ---
      // showMessage and inferDataType are now in js/main.js

      // --- Interactive Variable Assignment Logic ---
      function handleAssignVariable() {
        const value = varValueInput.value; // Get value as string
        const dataType = inferDataType(value);
        let displayValue = value;

        // Add quotes for strings in the display
        if (dataType === "str") {
          // Escape potential quotes within the string itself for display
          const escapedValue = value.replace(/'/g, "\\'").replace(/"/g, '\\"');
          displayValue = `"${escapedValue}"`; // Show strings with quotes
        } else if (dataType === "bool") {
          // Capitalize True/False like Python
          displayValue =
            value.charAt(0).toUpperCase() + value.slice(1).toLowerCase();
        } else if (dataType === "NoneType") {
          displayValue = "None"; // Represent empty input as None
        }

        variableDisplay.textContent = `my_variable = ${displayValue}\nType: <${dataType}>`;
        showMessage(
          varAssignMessage,
          `Assigned value to my_variable.`,
          "success"
        );
        varValueInput.value = ""; // Clear input after assignment
      }

      // --- Interactive Data Type Checker Logic ---
      function handleCheckType() {
        const value = typeCheckInput.value;
        const dataType = inferDataType(value);
        let displayType = `<${dataType}>`;
        if (dataType === "NoneType") {
          displayType = "Detected type: NoneType (likely empty input)";
        } else {
          displayType = `Detected type: <${dataType}>`;
        }

        typeCheckOutput.textContent = displayType;
        showMessage(
          typeCheckMessage,
          `Checked type for the provided value.`,
          "success"
        );
      }

      // --- Quiz Logic ---
      function checkVarsQuiz() {
        const answers = {
          q1_vars: "b", // store data
          q2_vars: "c", // float
          q3_vars: "b", // str (because of quotes)
          q4_vars: "c", // True and False
        };
        let score = 0;
        let resultsHTML = "<ul>";
        let allAnswered = true;

        for (const q in answers) {
          const selected = document.querySelector(`input[name="${q}"]:checked`);
          if (!selected) {
            allAnswered = false;
            break; // Stop checking if one question is unanswered
          }
          const isCorrect = selected.value === answers[q];
          if (isCorrect) {
            score++;
            resultsHTML += `<li class="text-green-700">✓ Question ${q.substring(
              1,
              2
            )}: Correct!</li>`; // Extract question number
          } else {
            resultsHTML += `<li class="text-red-700">✗ Question ${q.substring(
              1,
              2
            )}: Incorrect.</li>`;
          }
        }

        if (!allAnswered) {
          quizResultVars.textContent =
            "Please answer all questions before checking.";
          quizResultVars.className = "message-box message-box-error";
          quizResultVars.style.display = "block";
          return;
        }

        resultsHTML += "</ul>";
        resultsHTML =
          `<p class="font-medium mb-2">You scored ${score} out of ${
            Object.keys(answers).length
          }.</p>` + resultsHTML;

        quizResultVars.innerHTML = resultsHTML;
        quizResultVars.className =
          score === Object.keys(answers).length
            ? "message-box message-box-success"
            : "message-box message-box-error";
        quizResultVars.style.display = "block";
      }

      // --- Event Listeners ---
      if (assignVarButton) {
        assignVarButton.addEventListener("click", handleAssignVariable);
      }
      if (checkTypeButton) {
        checkTypeButton.addEventListener("click", handleCheckType);
      }
      if (checkQuizButtonVars) {
        checkQuizButtonVars.addEventListener("click", checkVarsQuiz);
      }
    </script>
  </body>
</html>
