<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Python's Random Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/shared-styles.css">
  </head>
  <body class="bg-blue-700 text-gray-300 min-h-screen p-4 md:p-8">
    <header class="text-center mb-8">
      <a href="../index.html" class="text-3xl md:text-4xl font-bold text-yellow-300 hover:text-yellow-200 transition-colors duration-200">
        Interactive Guide to Python
      </a>
      <h1 class="text-2xl md:text-3xl font-semibold text-yellow-400 mt-2">
        Understanding Python's Random Module
      </h1>
      <p class="text-xs text-cyan-500 mt-1 italic">
        Generating pseudo-random numbers and making random choices for simulations, games, and sampling.
      </p>
    </header>

    <nav
      class="max-w-4xl mx-auto mb-6 p-3 bg-blue-800 rounded-lg shadow-md flex justify-between items-center"
    >
      <a
        href="file-handling.html"
        class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        &larr; Previous: File Handling
      </a>
      <a
        href="recursion.html"
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200"
      >
        Next: Recursion &rarr;
      </a>
    </nav>

    <main class="max-w-4xl mx-auto">
      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          1. Why Use Random Numbers?
        </h2>
        <p class="mb-4 text-gray-300">
          Random numbers are essential in many programming tasks, including
          simulations, games (e.g., shuffling cards, dice rolls), statistical
          sampling, cryptography, and generating unique identifiers. Python
          provides a built-in module called <code>random</code> to handle
          various randomization tasks.
        </p>
        <p>
          These numbers are typically "pseudo-random," meaning they are
          generated by a deterministic algorithm that produces sequences
          appearing random, but are reproducible if you know the starting point
          (the "seed").
        </p>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          2. Importing the <code>random</code> Module
        </h2>
        <p class="mb-2 text-gray-300">
          To use the functions for generating random numbers, you first need to
          import the <code>random</code> module.
        </p>
        <pre><code class="language-python">import random</code></pre>
        <p class="mt-2 text-gray-300">
          Once imported, you can access the functions using dot notation, like
          <code>random.random()</code>.
        </p>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          3. Common Functions in the <code>random</code> Module
        </h2>
        <p class="mb-2 text-gray-300">Here are some of the most frequently used functions:</p>
        <ul class="list-disc list-inside ml-4 space-y-2 text-gray-300">
          <li>
            <strong><code>random.random()</code></strong
            >: Returns a random floating-point number in the range [0.0, 1.0)
            (meaning 0.0 is possible, but 1.0 is excluded).
            <pre><code class="language-python">print(random.random()) # Output: e.g., 0.76301616...</code></pre>
          </li>
          <li>
            <strong><code>random.uniform(a, b)</code></strong
            >: Returns a random floating-point number N such that
            <code>a &lt;= N &lt;= b</code> (inclusive for both ends, depending
            on rounding).
            <pre><code class="language-python">print(random.uniform(1.5, 10.5)) # Output: e.g., 5.892...</code></pre>
          </li>
          <li>
            <strong><code>random.randint(a, b)</code></strong
            >: Returns a random integer N such that
            <code>a &lt;= N &lt;= b</code> (inclusive for both ends).
            <pre><code class="language-python">print(random.randint(1, 6)) # Output: e.g., 4 (like a dice roll)</code></pre>
          </li>
          <li>
            <strong><code>random.choice(sequence)</code></strong
            >: Returns a random element from a non-empty sequence (like a list,
            tuple, or string).
            <pre><code class="language-python">colors = ["red", "green", "blue"]
print(random.choice(colors)) # Output: e.g., "green"</code></pre>
          </li>
          <li>
            <strong><code>random.shuffle(list)</code></strong
            >: Shuffles the elements of a list *in-place* (modifies the original
            list, returns <code>None</code>).
            <pre><code class="language-python">deck = [1, 2, 3, 4, 5]
random.shuffle(deck)
print(deck) # Output: e.g., [3, 1, 5, 2, 4] (order is randomized)</code></pre>
          </li>
          <li>
            <strong><code>random.seed(a)</code></strong
            >: Initializes the random number generator. Using the same seed
            value will produce the same sequence of random numbers, which is
            useful for testing and reproducibility. If omitted, Python often
            uses the current system time.
            <pre><code class="language-python">random.seed(42)
print(random.random()) # Will always produce the same first number after seeding with 42
print(random.random()) # Will always produce the same second number...</code></pre>
          </li>
        </ul>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">
          4. Try Generating Random Values
        </h2>
        <p class="mb-4 text-gray-300">
          Click the buttons below to simulate calls to different `random`
          functions.
        </p>

        <div class="mb-4 p-4 border border-blue-500 rounded-md bg-blue-900">
          <p class="font-medium text-cyan-400">
            Generate Float (0.0 to < 1.0): <code>random.random()</code>
          </p>
          <button id="genRandomFloatButton" class="btn btn-green">
            Generate
          </button>
          <div id="randomFloatOutput" class="output-display bg-blue-800 border-yellow-500 text-gray-200"></div>
        </div>

        <div class="mb-4 p-4 border border-blue-500 rounded-md bg-blue-900">
          <p class="font-medium text-cyan-400">
            Generate Float in Range: <code>random.uniform(a, b)</code>
          </p>
          <div class="flex flex-wrap items-center">
            <label for="uniformMinInput" class="mr-2 text-gray-300">Min (a):</label>
            <input
              type="number"
              id="uniformMinInput"
              step="any"
              class="input-field input-field-small"
              value="1.0"
            />
            <label for="uniformMaxInput" class="ml-4 mr-2 text-gray-300">Max (b):</label>
            <input
              type="number"
              id="uniformMaxInput"
              step="any"
              class="input-field input-field-small"
              value="10.0"
            />
            <button id="genUniformButton" class="btn btn-green">
              Generate
            </button>
          </div>
          <div id="uniformOutput" class="output-display bg-blue-800 border-yellow-500 text-gray-200"></div>
        </div>

        <div class="mb-4 p-4 border border-blue-500 rounded-md bg-blue-900">
          <p class="font-medium text-cyan-400">
            Generate Integer in Range: <code>random.randint(a, b)</code>
          </p>
          <div class="flex flex-wrap items-center">
            <label for="randintMinInput" class="mr-2 text-gray-300">Min (a):</label>
            <input
              type="number"
              id="randintMinInput"
              class="input-field input-field-small"
              value="1"
            />
            <label for="randintMaxInput" class="ml-4 mr-2 text-gray-300">Max (b):</label>
            <input
              type="number"
              id="randintMaxInput"
              class="input-field input-field-small"
              value="100"
            />
            <button id="genRandintButton" class="btn btn-green">
              Generate
            </button>
          </div>
          <div id="randintOutput" class="output-display bg-blue-800 border-yellow-500 text-gray-200"></div>
        </div>

        <div class="mb-4 p-4 border border-blue-500 rounded-md bg-blue-900">
          <p class="font-medium text-cyan-400">
            Choose from Sequence: <code>random.choice(sequence)</code>
          </p>
          <p class="text-sm text-gray-400 mb-2">
            Sequence: <code>["apple", "banana", "cherry", "date"]</code>
          </p>
          <button id="genChoiceButton" class="btn btn-green">Choose</button>
          <div id="choiceOutput" class="output-display bg-blue-800 border-yellow-500 text-gray-200"></div>
        </div>

        <div class="p-4 border border-blue-500 rounded-md bg-blue-900">
          <p class="font-medium text-cyan-400">
            Shuffle List: <code>random.shuffle(list)</code>
          </p>
          <p class="text-sm text-gray-400">Original List:</p>
          <div id="shuffleOriginalList" class="sequence-container mb-2"></div>
          <button id="shuffleButton" class="btn btn-green">Shuffle</button>
          <p class="text-sm text-gray-400 mt-3">Shuffled List:</p>
          <div id="shuffleOutputList" class="sequence-container"></div>
        </div>

        <div id="randomMessage" class="message-box" style="display: none"></div>
      </section>

      <section class="mb-8 interactive-section">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-3">5. Quick Quiz</h2>
        <p class="mb-4 text-gray-300">Test your understanding!</p>
        <div class="mb-3">
          <p class="font-medium mb-1 text-gray-200">
            Q1: Which function generates a random floating-point number between
            0.0 (inclusive) and 1.0 (exclusive)?
          </p>
          <label class="block text-gray-300"
            ><input type="radio" name="q1_random" value="a" class="mr-1" />
            <code>random.randint(0, 1)</code></label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q1_random" value="b" class="mr-1" />
            <code>random.random()</code></label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q1_random" value="c" class="mr-1" />
            <code>random.uniform(0, 1)</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1 text-gray-200">
            Q2: To get a random integer representing a standard 6-sided die
            roll, which function call is most appropriate?
          </p>
          <label class="block text-gray-300"
            ><input type="radio" name="q2_random" value="a" class="mr-1" />
            <code>random.random() * 6</code></label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q2_random" value="b" class="mr-1" />
            <code>random.randint(1, 6)</code></label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q2_random" value="c" class="mr-1" />
            <code>random.choice([1, 2, 3, 4, 5, 6])</code></label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1 text-gray-200">
            Q3: What does `random.shuffle(my_list)` do?
          </p>
          <label class="block text-gray-300"
            ><input type="radio" name="q3_random" value="a" class="mr-1" />
            Returns a new list with elements shuffled</label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q3_random" value="b" class="mr-1" />
            Modifies the original `my_list` in-place</label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q3_random" value="c" class="mr-1" />
            Returns a random element from `my_list`</label
          >
        </div>
        <div class="mb-3">
          <p class="font-medium mb-1 text-gray-200">Q4: Why might you use `random.seed()`?</p>
          <label class="block text-gray-300"
            ><input type="radio" name="q4_random" value="a" class="mr-1" /> To
            make random numbers more random</label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q4_random" value="b" class="mr-1" /> To
            get the same sequence of "random" numbers every time for
            testing</label
          >
          <label class="block text-gray-300"
            ><input type="radio" name="q4_random" value="c" class="mr-1" /> To
            choose a random seed for planting</label
          >
        </div>
        <button id="checkQuizButtonRandom" class="btn">Check Answers</button>
        <div
          id="quizResultRandom"
          class="message-box mt-4"
          style="display: none"
        ></div>
      </section>
    </main>

    <footer class="text-center mt-12 py-6 border-t border-yellow-500">
      <p class="text-sm text-cyan-300">
        &copy; 2024 Interactive Guide to Python. Happy Coding!
      </p>
    </footer>

    <script src="../js/main.js" defer></script>
    <script>
      // showMessage is now in js/main.js

      // --- DOM Elements ---
      const genRandomFloatButton = document.getElementById(
        "genRandomFloatButton"
      );
      const randomFloatOutput = document.getElementById("randomFloatOutput");

      const uniformMinInput = document.getElementById("uniformMinInput");
      const uniformMaxInput = document.getElementById("uniformMaxInput");
      const genUniformButton = document.getElementById("genUniformButton");
      const uniformOutput = document.getElementById("uniformOutput");

      const randintMinInput = document.getElementById("randintMinInput");
      const randintMaxInput = document.getElementById("randintMaxInput");
      const genRandintButton = document.getElementById("genRandintButton");
      const randintOutput = document.getElementById("randintOutput");

      const genChoiceButton = document.getElementById("genChoiceButton");
      const choiceOutput = document.getElementById("choiceOutput");
      const choiceSequence = ["apple", "banana", "cherry", "date"];

      const shuffleOriginalList = document.getElementById(
        "shuffleOriginalList"
      );
      const shuffleButton = document.getElementById("shuffleButton");
      const shuffleOutputList = document.getElementById("shuffleOutputList");
      const originalList = [10, 20, 30, 40, 50];
      let currentShuffledList = [...originalList]; // Copy for shuffling

      const randomMessage = document.getElementById("randomMessage");

      const checkQuizButtonRandom = document.getElementById(
        "checkQuizButtonRandom"
      );
      const quizResultRandom = document.getElementById("quizResultRandom");

      // --- Random Generation Logic (using JS Math.random) ---

      // random.random() -> float [0.0, 1.0)
      genRandomFloatButton.addEventListener("click", () => {
        const rand = Math.random();
        randomFloatOutput.textContent = rand;
        showMessage(randomMessage, "Generated random float.", "success");
      });

      // random.uniform(a, b) -> float [a, b]
      genUniformButton.addEventListener("click", () => {
        const min = parseFloat(uniformMinInput.value);
        const max = parseFloat(uniformMaxInput.value);
        if (isNaN(min) || isNaN(max)) {
          showMessage(
            randomMessage,
            "Invalid min/max value for uniform.",
            "error"
          );
          uniformOutput.textContent =
            '<span class="text-red-500">Error: Invalid input</span>';
          return;
        }
        if (min > max) {
          showMessage(
            randomMessage,
            "Min cannot be greater than Max for uniform.",
            "error"
          );
          uniformOutput.textContent =
            '<span class="text-red-500">Error: min > max</span>';
          return;
        }
        const rand = Math.random() * (max - min) + min;
        uniformOutput.textContent = rand;
        showMessage(randomMessage, "Generated uniform float.", "success");
      });

      // random.randint(a, b) -> integer [a, b]
      genRandintButton.addEventListener("click", () => {
        const min = parseInt(randintMinInput.value, 10);
        const max = parseInt(randintMaxInput.value, 10);
        if (isNaN(min) || isNaN(max)) {
          showMessage(
            randomMessage,
            "Invalid min/max value for randint.",
            "error"
          );
          randintOutput.textContent =
            '<span class="text-red-500">Error: Invalid input</span>';
          return;
        }
        if (min > max) {
          showMessage(
            randomMessage,
            "Min cannot be greater than Max for randint.",
            "error"
          );
          randintOutput.textContent =
            '<span class="text-red-500">Error: min > max</span>';
          return;
        }
        // Formula: Math.floor(Math.random() * (max - min + 1)) + min
        const rand = Math.floor(Math.random() * (max - min + 1)) + min;
        randintOutput.textContent = rand;
        showMessage(randomMessage, "Generated random integer.", "success");
      });

      // random.choice(sequence)
      genChoiceButton.addEventListener("click", () => {
        if (choiceSequence.length === 0) {
          choiceOutput.textContent =
            '<span class="text-red-500">Error: Sequence is empty</span>';
          return;
        }
        const randomIndex = Math.floor(Math.random() * choiceSequence.length);
        const choice = choiceSequence[randomIndex];
        choiceOutput.textContent = `"${choice}"`;
        showMessage(randomMessage, "Chose random element.", "success");
      });

      // --- Shuffle Logic ---
      function renderSequence(container, sequence) {
        container.innerHTML = ""; // Clear previous
        sequence.forEach((item) => {
          const span = document.createElement("span");
          span.className = "sequence-item";
          span.textContent = item;
          container.appendChild(span);
        });
      }

      // Fisher-Yates (Knuth) Shuffle Algorithm
      function shuffleArray(array) {
        let currentIndex = array.length,
          randomIndex;
        // While there remain elements to shuffle.
        while (currentIndex !== 0) {
          // Pick a remaining element.
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex--;
          // And swap it with the current element.
          [array[currentIndex], array[randomIndex]] = [
            array[randomIndex],
            array[currentIndex],
          ];
        }
        return array;
      }

      shuffleButton.addEventListener("click", () => {
        currentShuffledList = shuffleArray([...currentShuffledList]); // Shuffle a copy
        renderSequence(shuffleOutputList, currentShuffledList);
        showMessage(randomMessage, "List shuffled.", "success");
      });

      // --- Quiz Logic ---
      function checkRandomQuiz() {
        const answers = {
          q1_random: "b", // random.random()
          q2_random: "b", // random.randint(1, 6)
          q3_random: "b", // Modifies in-place
          q4_random: "b", // Reproducibility/testing
        };
        let score = 0;
        let resultsHTML = "<ul>";
        let allAnswered = true;

        for (const q in answers) {
          const selected = document.querySelector(`input[name="${q}"]:checked`);
          if (!selected) {
            allAnswered = false;
            break;
          }
          const isCorrect = selected.value === answers[q];
          if (isCorrect) {
            score++;
            resultsHTML += `<li class="text-green-700">✓ Question ${q.substring(
              1,
              2
            )}: Correct!</li>`;
          } else {
            resultsHTML += `<li class="text-red-700">✗ Question ${q.substring(
              1,
              2
            )}: Incorrect.</li>`;
          }
        }

        if (!allAnswered) {
          quizResultRandom.textContent =
            "Please answer all questions before checking.";
          quizResultRandom.className = "message-box message-box-error";
          quizResultRandom.style.display = "block";
          return;
        }

        resultsHTML += "</ul>";
        resultsHTML =
          `<p class="font-medium mb-2">You scored ${score} out of ${
            Object.keys(answers).length
          }.</p>` + resultsHTML;

        quizResultRandom.innerHTML = resultsHTML;
        quizResultRandom.className =
          score === Object.keys(answers).length
            ? "message-box message-box-success"
            : "message-box message-box-error";
        quizResultRandom.style.display = "block";
      }

      // --- Event Listeners ---
      checkQuizButtonRandom.addEventListener("click", checkRandomQuiz);

      // --- Initial Setup ---
      window.onload = () => {
        renderSequence(shuffleOriginalList, originalList);
        renderSequence(shuffleOutputList, currentShuffledList); // Show initial state before shuffle
      };
    </script>
  </body>
</html>
